!function(e){function t(t){for(var s,o,l=t[0],r=t[1],c=t[2],u=0,h=[];u<l.length;u++)o=l[u],i[o]&&h.push(i[o][0]),i[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);for(d&&d(t);h.length;)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,l=1;l<n.length;l++){var r=n[l];0!==i[r]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={12:0},a=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,s){n=i[e]=[t,s]});t.push(n[2]=s);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(e){return o.p+"classic."+({16:"module.3dd.Main",17:"module.Alexa.Main",18:"module.Analyze.Main",19:"module.Bookmarks.Main",20:"module.BoxNet.Main",21:"module.Calc.Main",22:"module.CorpusManager.Main",23:"module.CraigsList.Main",24:"module.DashboardStats.Main",25:"module.ExtendedVibes.Main",26:"module.Facebook.Main",27:"module.FeedDiscovery.Main",28:"module.Flash.Main",29:"module.Flickr.Main",30:"module.Gmail.Main",31:"module.GoogleAnalytics.Main",32:"module.HtmlEditor.Main",33:"module.Ical.Main",34:"module.ImageModule.Main",35:"module.Instagram.Main",36:"module.Library.Main",37:"module.LinkModule.Main",38:"module.MailWizard.Main",39:"module.MapsSearch.Main",40:"module.MultipleFeeds.Main",41:"module.PopMail.Main",42:"module.PotionGenerator.Main",43:"module.PotionWizard.Main",44:"module.Reddit.Main",45:"module.RssReader.Main",46:"module.SearchTrends.Main",47:"module.SocialPack_Analytics.Main",48:"module.SocialPack_Compare.Main",49:"module.SocialWizard.Main",50:"module.TextEditor.Main",51:"module.Threadless.Main",52:"module.TodoList.Main",53:"module.Top3.Main",54:"module.TrialCountdown.Main",55:"module.TrialTutorial.Main",56:"module.Twitter.Main",57:"module.UWA.Main",58:"module.VideoModule.Main",59:"module.Weather.Main",60:"module.WebPage.Main",61:"module.Webnote.Main",62:"module.Welcome.Main",63:"module.WelcomeVip.Main",64:"module.Wheel.Main",65:"module.Wikipedia.Main",66:"module.YelpSearch.Main"}[e]||e)+"."+{7:"4aea43e902d448e288f9",8:"c9939a349c5290091b33",16:"b78f858d3db78a2c6641",17:"6dbd19c727d3c96661c2",18:"f77266a378e210d90b15",19:"51b185f2e199af537eae",20:"f91e8cad352f855b0053",21:"9e5f0f47ff17455b65b7",22:"fb5403245cfd1032f001",23:"148981f6735432616b73",24:"4808247f95e58f49bfaa",25:"98a8fe800ad584b9a07e",26:"6365da6d27f722d309f2",27:"9a7ce55f38f28a4dfdfb",28:"5b6a8af90e291430c63f",29:"0aa1432fa006f8252fad",30:"c21051ea10a4544cbfc4",31:"2007ec5bd07dcb3beea3",32:"ef952120af8c59d086b0",33:"9ca887fd62b4fb206bd7",34:"61a198ded8374921e2dc",35:"11cdcfabb1884b1db136",36:"279da8c4ce367ebf8fc2",37:"2728dc7dd5d7d4ba35ad",38:"2dddcb893da8c3b5a1d9",39:"6449dcfcc9741ccf35d3",40:"5a1721b36c03684b3c12",41:"9267d9fb53b8cc7fd6b8",42:"f9354e9d9dad4f46db69",43:"44986ab967e58be723bd",44:"3056fde5e66804ca4ec2",45:"5af62cdd46a0b791131c",46:"6f955629bc99892c0a37",47:"bbf4ff3c6b886fa9a3b7",48:"64ce81ec1a470b0a0f66",49:"cf6a996e26039c4655eb",50:"2c9912e72ac8949e3064",51:"c358c43d22e619e64241",52:"2001faccc20948cf6c67",53:"d91f0bfe87ca8eda14c4",54:"acc3900af372bcd783c9",55:"abd3294202ea52493da3",56:"7886698f3bf47c59b28f",57:"ad74c81af8a5ba620dcf",58:"be5de6721c2bdf0a88b7",59:"03f11350daebec3aefd2",60:"f0c03778d1086113159d",61:"b87cfb99ae134573b902",62:"1a9778c28cdc5028df90",63:"62cc27bee2b8c7871e66",64:"350a79c8eef9585d6dbd",65:"22a47015744afc3473ab",66:"d170b89f5db3e36247db",117:"f80587d7386b94ea764a",118:"415f6bc9bf2a0c4df81b",119:"0cbad86ccd888ff4c007",120:"8e9f090214157ac09a10"}[e]+".js"}(e);var r=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;r.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",r.name="ChunkLoadError",r.type=s,r.request=a,n[1](r)}i[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=r;a.push([668,0,1,2,3,5,4,6]),n()}({152:function(e,t,n){"use strict";var s,i;s=[n(1),n(10),n(26)],void 0===(i=function(e,t,n){var s=e.createElement;return t.extend({name:"nv-settings-panels-view",init:function(e){this._parent(e),this.elements.container||(this.buildSkeletton(),this.buildPanel())},open:function(t){this.injectData(),!e.is(t)||t?(this.elements.container.setStyles({display:"",opacity:"0"}),new n(this.elements.container,{duration:200,transition:"quadOut",events:{onComplete:function(){this.onOpen()}.bind(this)}}).start({opacity:1})):this.elements.container.setStyles({display:"",opacity:"1"})},close:function(t,s){if(e.is(t)&&!t)return this.elements.container.setStyles({display:"none",opacity:"0"}),void s();new n(this.elements.container,{duration:250,transition:"quadInOut",events:{onComplete:function(){this.elements.container.setStyle("display","none"),this.onClose(),s()}.bind(this)}}).start({opacity:0})},injectData:function(){},onResize:function(){},onOpen:function(){},onClose:function(){},buildSkeletton:function(){this.elements.container=s("div",{class:this.getClassNames()+" nv-settings-flexcolumns"}).addContent(this.elements.panel=s("div",{class:this.getClassNames("-content")+" nv-settings-flexcolumns"})),this.elements.container.setStyle("display","none")},buildPanel:function(){}})}.apply(t,s))||(e.exports=i)},175:function(e,t,n){"use strict";var s,i;s=[n(9),n(25),n(15),n(3),n(2),n(4),n(45),n(151),n(6)],void 0===(i=function(e,t,n,s,i,a,o,l,r){var c=e.singleton({initialize:function(e){this.setTitle(e),this.getDynamicThemeLinkElement()&&(this.dynamicInterval=setInterval(this.updateDynamicTheme.bind(this),18e4))},getTitle:function(){return this.title},setTitle:function(e){this.title=e},switchTo:function(e){o.set({headerBackground:"",headerColor:"",headerTextColor:"",headerHeight:null,headerCenter:0,headerAlignment:"",bodyBackground:"",bodyColor:"",bodyCenter:0,bodyFixed:0,themeUrl:e}),o.save();var t=e.match(/\/?themes\/([^\/]+)\/screen.css/),n=t?t[1].toLowerCase():e.replace(/\W/gi,"");this.setTitle(n),this.changeTheme(e),this.refresh()},refresh:function(){this.updateHeader(),this.updateBody()},updateHeader:function(){if(!i.Page.inSmartReaderView){var e,t,n,s,l,r=document.body.getElement("#header"),c=document.body.getElement("#header .overlay");r.setAttribute("style",""),c.setAttribute("style",""),o.get("headerColor")&&(e=o.get("headerColor"),t="url("+a.getStaticUrl("/img/s.gif")+")",l="none"),o.get("headerBackground")&&(t="url("+o.get("headerBackground")+")",n=o.get("headerCenter")?"no-repeat":"repeat",s=o.get("headerAlignment")?o.get("headerAlignment")+" center":"center center",l="none"),r.setStyles({"padding-left":document.body.getElement("#header").style.paddingLeft,"background-image":t,"background-repeat":n,"background-position":s,"background-color":e}),c.setStyles({"background-image":l,"background-repeat":""});var d=o.get("headerHeight"),u=(Math.ceil(.75*d)||0)+10;document.body.getElement("#header-middle-content").setStyles({paddingTop:u,paddingBottom:u}),document.body.getElements("#pageTitle").invoke("setStyle","color",o.get("headerTextColor")||""),document.body.getElement("#pageTitle").setStyle("display",o.get("showTitle")?"":"none")}},updateBody:function(){var e,t,n,s,i=document.body;o.get("bodyBackground")&&(e="url("+o.get("bodyBackground")+")",n=o.get("bodyFixed")?"fixed":"",s="top left",t="repeat",o.get("bodyCenter")&&(s="center center",t="no-repeat")),e=o.get("bodyColor")&&!o.get("bodyBackground")?"url("+a.getStaticUrl("/img/s.gif")+")":e,i.setAttribute("style",""),i.setStyles({"background-image":e,"background-repeat":t,"background-attachment":n,"background-position":s,"background-color":o.get("bodyColor")||""})},changeTheme:function(e){r.dashboardsThemeUrl({storedUrl:e}).done(function(e){var t=n.getElement.call(document.head,"link[title][rel*=style]:not([rel*=alt])");t&&(t.href=e)})},undoTheme:function(e){var t=new l({closeButton:null});t.setMessage(UWA.createElement("span",{class:"message-theme",text:_("Your theme has been changed.")}),UWA.createElement("a",{class:"nv-button",href:"#_",text:_("Undo"),events:{click:function(n){s.stop(n),t.close(),o.set(e),o.save(),this.refresh()}.bind(this)}}),UWA.createElement("a",{class:"nv-button",href:"#_",text:_("Keep"),events:{click:function(e){s.stop(e),t.close()}}})).inject().open()},updateDynamicTheme:function(){var e;e=function(){var e,t=this.getTrait(),n=this.getDynamicThemeLinkElement(),s=/trait=\d+/;n&&(e=n.href.match(s)?n.href.replace(s,"trait="+t):n.href+="&trait="+t,n.href!==e&&UWA.createElement("link",{rel:"stylesheet",href:e,media:"screen",events:{onLoad:function(){setTimeout(n.destroy.bind(n),50)}}}).inject(document.head))}.bind(this),navigator.onLine&&t.getText("/empty.html",e)},getTrait:function(){return(new Date).getHours()},getDynamicThemeLinkElement:function(){return n.getElement.call(document.head,"link[rel^=style][href*=xml-dynamic]")}});return i.onReady(function(){i.Page&&c.initialize(i.Page.themeName)}),App.Theme=c,c}.apply(t,s))||(e.exports=i)},370:function(e,t,n){"use strict";var s,i;s=[n(1),n(9),n(3),n(8),n(2),n(175),n(21),n(45),n(79),n(716),n(721),n(722),n(724),n(725),n(727),n(52)],void 0===(i=function(e,t,n,s,i,a,o,l,r,c,d,u,h,m,p,g){var f=e.createElement,v=t.singleton({elements:{},className:"nv-settings",currentPanel:null,open:function(e){l.store(),this.discarding=!1,this.displayPanel(e),this.modal.open()},close:function(){var t=i.Globalization.userLanguage,n=this.views.languagesPanel.getData(),s=t!==n,a=i.Globalization.userLocale,o=this.views.localContentPanel.getData();if(s||a!==o){var l="?lang="+n+"&locale="+o;i.Page.isPublic&&e.is(i.Page.owner.username,"string")&&(l+="&visit="+i.Page.owner.username),window.location.search=l}this.modal.close()},init:function(){var e=i.Page.isDraft||o.getAllLabels().length,t=!i.Page.inSmartReaderView&&App.Context.isAllowed("dashboard_theme_edit");this.modal=new r({className:"nv-settings",closeable:!1,draggable:!0,fullscreenable:!0,fullScreenIcon:"ù",title:_("Settings"),size:{width:1e3,height:"full",margin:80}}),this.modal.addEvent("onPreClose",this.onPreClose.bind(this)),document.body.addContent(this.modal),this.views={generalPanel:new c({className:"general"}),tabLabelsPanel:new d({className:"tab-labels"}),localContentPanel:new u({className:"local-content"}),languagesPanel:new h({className:"languages"}),customizePanel:new m({className:"customize"}),galleryPanel:new p({className:"gallery"})},this.tabsGroups=[{id:"settings",title:_("Settings"),tabs:[{id:"general",title:_("General"),panel:this.views.generalPanel},{id:"tab_labels",title:_("Tab Labels"),panel:this.views.tabLabelsPanel,displayRule:e},{id:"local_content",title:_("Local Content"),panel:this.views.localContentPanel},{id:"languages",title:_("Languages"),panel:this.views.languagesPanel}]},{id:"themes",title:_("Themes"),tabs:[{id:"customize",title:_("Customize"),panel:this.views.customizePanel,displayRule:t},{id:"gallery",title:_("Gallery"),panel:this.views.galleryPanel,displayRule:t}]}],this.modal.setContent(this.buildSkeletton())},buildSkeletton:function(){var e=this.tabsGroups.map(function(e){return this.buildTabsGroup(e)},this);return this.elements.container=f("div").addContent(this.elements.nav=f("div",{class:"nv-settings-nav"}).addContent(e),this.elements.panels=f("div",{class:"nv-settings-panels"}),this.elements.footer=f("div",{class:"nv-settings-footer"}).addContent(this.elements.discardBtn=new s.Button({value:_("Discard changes"),className:"cancel dark-grey"}),this.elements.doneBtn=new s.Button({value:_("Done"),className:"save green"}))),this.attachEvents(),this.elements.container},attachEvents:function(){this.elements.nav.addEventListener("click",this.onNavClick.bind(this)),this.elements.doneBtn.getInputElement().addEventListener("click",this.onCloseEvent.bind(this)),this.elements.discardBtn.getInputElement().addEventListener("click",this.onDiscardClick.bind(this))},buildTabsGroup:function(t){if(t.tabs.detect(function(t){return!e.is(t.displayRule)||t.displayRule})){var n,s=t.tabs.map(function(s){if(!e.is(s.displayRule)||s.displayRule)return(n=f("a",{text:s.title})).setData("tab-group",t.id),n.setData("tab",s.id),f("li",{class:"nv-settings-nav-group-list-item"}).addContent(n)},this);return f("div",{class:"nv-settings-nav-group"}).addContent(f("div",{class:"nv-settings-nav-group-title",text:t.title}),f("ul",{class:"nv-settings-nav-group-list"}).addContent(s))}},displayPanel:function(e){var t=!!e;e=e||this.tabsGroups[0].tabs[0].id;var n=this.elements.nav.getElement(".nv-settings-nav-group-list-item a.active");n&&n.removeClassName("active"),this.getTabById(e).addClassName("active");var s="themes"===this.getTabGroupIdByTabId(e)?0:null;this.modal.setOverlayOpacity(s);var i=this.currentPanel;if(this.currentPanel=this.getPanelById(e),i){var a=function(){this.elements.panels.addContent(this.currentPanel),this.currentPanel.open()}.bind(this);i.close(t,a)}else this.elements.panels.addContent(this.currentPanel),this.currentPanel.open(t)},getPanelById:function(e){var t,n=this.getTabGroupIdByTabId(e);return this.tabsGroups.forEach(function(s){s.id===n&&s.tabs.forEach(function(n){n.id===e&&(t=n.panel)})}),t},getTabById:function(e){var t=this.getTabGroupIdByTabId(e);return this.elements.nav.getElements(".nv-settings-nav-group-list-item a").detect(function(n){return n.getData("tab-group")===t&&n.getData("tab")===e})},getTabGroupIdByTabId:function(e){return this.tabsGroups.detect(function(t){return t.tabs.detect(function(t){return t.id===e})}).id},onResizeEvent:function(){this.currentPanel.onResize()},onCloseEvent:function(){this.close()},onNavClick:function(e){var t=n.findElement(e,".nv-settings-nav-group-list-item a");if(t){var s=t.getData("tab");this.displayPanel(s)}},onDiscardClick:function(){l.restore(),l.saveNow(),this.views.galleryPanel&&this.views.galleryPanel.hasChanged()?a.switchTo(l.get("themeUrl")):a.refresh(),o.updateLabelFilter(),this.modal.close()},onPreClose:function(){this.currentPanel.onClose()}});return g.addShortcuts({tab:{l:function(){v.open("tab_labels")}},module:{s:function(){v.open()}}}),App.Settings=v,v}.apply(t,s))||(e.exports=i)},371:function(e,t,n){"use strict";var s,i;s=[n(9),n(24),n(3),n(16),n(2),n(217),n(6),n(214),n(36),n(274),n(52),n(45),n(21),n(35),n(161),n(104),n(718),n(719),n(720),n(41),n(149),n(187),n(69)],void 0===(i=function(e,t,n,s,i,a,o,l,r,c,d,u,h,m,p,g,f,v,b,y,w,C,E){return e.singleton(t,{_numOverviewItems:5,_initHeight:35,elements:{},init:function(){if(this.elements.wrapper=document.body.getElement(".universal-zorch-wrapper"),this.elements.container=document.body.getElement(".universal-zorch"),this.elements.search=document.body.getElement(".universal-zorch .zorch"),this.elements.attachedPlayer=document.body.getElement(".zorch-attached-player"),this.elements.wrapper){var e=!i.User.isPremium&&!i.NPD,t=i.isAllowed("search");e?(this.isIncentive=!0,this.setVisible(!i.Config.white_labeling),this.elements.wrapper.addClassName("freeuser"),this.overview=new v):(this.setVisible(t),this.overview=new b,this.overview.addEvent("onSaveClick",this.onSaveClick.bind(this)),this.overview.addEvent("onRefineClick",this.onRefineClick.bind(this)),this.overview.addEvent("onWidgetClick",this.onWidgetClick.bind(this)),this.attachAutocomplete()),this.elements.overview=this.overview.getContent(),this.overview.inject(this.elements.wrapper,"top"),this.elements.search.addEvent("keyup",this.setZorchHeight.bind(this)),this.attachEvents()}},open:function(){this.clickListener||(this.clickListener=this.onDocumentClick.bind(this),document.body.addEvent("mousedown",this.clickListener,!1,0,!0)),this.elements.wrapper.addClassName("active"),this.isIncentive&&this.overview.open(500),d.pushFocus("universalsearch"),this.elements.attachedPlayer.addClassName("smalldisplay"),this.elements.search.removeClassName("background"),this.setZorchHeight(),c()},close:function(){this.clickListener&&(document.body.removeEvent("mousedown",this.clickListener,!0),this.clickListener=null),d.popFocus("universalsearch"),this.elements.search.value="",this.elements.wrapper.removeClassName("active"),this.elements.attachedPlayer.removeClassName("smalldisplay"),this.toggleSearchSpinner(!1),this.setZorchHeight(this._initHeight),this.overview.close(),this.setDelayed("checkSmallDisplay",c,500),this.elements.search.blur(),this.syncFilledState()},setVisible:function(e){this.elements.wrapper.toggleClassName("hidden",!e)},isActive:function(){return this.elements.wrapper.hasClassName("active")},isSearching:function(){return this._isSearching},attachEvents:function(){document.activeElement===this.elements.search&&this.open(),this.elements.search.addEvent("focus",this.open.bind(this)),this.elements.search.addEvent("change",this.setZorchHeight.bind(this)),this.elements.container.getElement(".zorch-close").addEvent("click",this.close.bind(this)),this.elements.container.getElement(".zorch-launch").addEvent("click",function(e){this.isActive()&&(n.stop(e),this.search())}.bind(this)),d.addShortcuts({universalsearch:{esc:function(){this.close()}}})},attachAutocomplete:function(){this.autoComplete=new f(this.elements.search),this.autoComplete.addEvents({onSubmit:this.search.bind(this),onClick:this.setZorchHeight.bind(this),onDisplayChoices:this.overview.close.bind(this.overview),onUpdate:this.syncFilledState.bind(this)});var e=this.autoComplete.getDropDown();e.set("class","uzo uzo-autocomplete"),e.inject(this.elements.container,"before"),this.elements.search.addEvents({keyup:this.syncFilledState.bind(this),keydown:function(e){13!==e.keyCode&&this.overview.close()}.bind(this)})},search:function(){!this.elements.search.value.length||this.isSearching()||this.isIncentive||(this._lastZorch=this.elements.search.value,this.toggleSearchSpinner(),this._startZorch=this.elements.search.value,m.log("search","universal"),p.translateQuery(this._lastZorch,function(e,t,n){return n}),s.allSettled([this.getItemList(),this.getWidgets()]).then(function(e){return"rejected"!==e[0].state||"rejected"!==e[1].state&&e[1].value.length?{articles:"rejected"===e[0].state?{error:e[0].reason}:e[0].value,widgets:e[1].value}:s.reject(e[0].reason)}).done(function(e){this.overview.displayResults(e),this.toggleSearchSpinner(!1)}.bind(this),function(e){this.overview.displayError(e),this.toggleSearchSpinner(!1)}.bind(this)))},getItemList:function(){var e=this._numOverviewItems,t={query:this.computeQuery()},n=Object.assign({limit:e,type:"preview"},r.formatDateRangeForAPI());return l.fetch(t,n)},getWidgets:function(){return o.myWidgetSearch({query:this._startZorch})},computeQuery:function(){return{topic:this._lastZorch||this._startZorch}},setZorchHeight:function(e){e&&parseInt(e,10)===e||(this.elements.search.setStyle("height",this._initHeight),600===(e=Math.min(600,Math.max(this.elements.search.scrollHeight,this._initHeight)))?this.elements.search.setStyle("overflow","auto"):this.elements.search.setStyle("overflow","hidden")),this.elements.search.setStyle("height",e),this.elements.container.setStyle("height",e),this.elements.overview.setStyle("top",e),this.autoComplete&&this.autoComplete.getDropDown().setStyle("top",e)},toggleSearchSpinner:function(e){this.searchSpinner||this.elements.container.getElement(".zorch-launch").addContent(this.searchSpinner=new y({autostart:!1,delay:0,size:18,color:"#333333"})),void 0===e||e?(this._isSearching=!0,this.elements.container.getElement(".zorch-launch .uwa-icon").setStyle("display","none"),this.searchSpinner.start()):(this._isSearching=!1,this.elements.container.getElement(".zorch-launch .uwa-icon").setStyle("display","block"),this.searchSpinner.stop())},syncFilledState:function(){var e=this.elements.search.value.length>0;this.elements.container.toggleClassName("filled",e)},createFilterModule:function(){this.overview.disableSave();var e=h.getNextWriteable();if(e){h.focusTab(e);var t={title:"",searchQuery:JSON.stringify(this.computeQuery())},n=w.process({moduleName:"SmartFilter",title:"",data:t});this.onCreateFilter(n)}else h.createNewTab({data:{title:_("Search")},switchTo:!0},this.createFilterModule.bind(this))},onCreateFilter:function(e){E.add(e,{}).done(function(){this.close()}.bind(this),function(){this.overview.enableSave(),this.overview.displaySaveError()}.bind(this))},openAnalysePanel:function(){this.overview.close(),this.setZorchHeight(this._initHeight),this.close(),C.launchWizardFromScratch("SocialPack_Analytics","SocialPack",{data:{searchQuery:JSON.stringify(this.computeQuery()),showUniversalSearchMode:!0}}),g.close()},onSaveClick:function(){this.createFilterModule()},onRefineClick:function(){this.openAnalysePanel()},onWidgetClick:function(e){a.focus(e),this.close()},onDocumentClick:function(e){n.findElement(e,".uzo, .universal-zorch")||(n.stop(e),this.close())}})}.apply(t,s))||(e.exports=i)},384:function(e,t,n){"use strict";var s,i;s=[n(1),n(79),n(8)],void 0===(i=function(e,t,n){var s=e.createElement,i=t.extend({name:"nv-a-modal",init:function(t){var i=!e.is(t.closeable)||t.closeable,a={closeable:i,displayCloseButton:i,title:t.title,size:{width:600}};this._parent(a);var o="";t.image&&(o=s("div",{class:this.getClassNames("-content-image")}).addContent(s("img",{src:t.image})));var l=t.buttons?s("div",{class:this.getClassNames("-content-footer")}):"";e.is(t.buttons,"string")?(l.addClassName("single"),l.addContent(new n.Button({className:"green medium",value:t.buttons,events:{onClick:function(){this.close()}.bind(this)}}))):t.buttons&&l.addContent(t.buttons),this.setContent(s("div",{class:this.getClassNames("-content")}).addContent(o,s("div",{class:this.getClassNames("-content-body")}).addContent(t.body),l)),this.refreshPosition()}});return{open:function(e){var t=new i(e);return t.inject(document.body).open(),t}}}.apply(t,s))||(e.exports=i)},388:function(e,t,n){"use strict";var s,i;s=[n(0),n(5)],void 0===(i=function(e,t){var n=e.h;return t.extend({name:"nv-wizi-head",render:function(e){return n("div",{className:this.getClassNames()},[n("div",{className:this.getClassNames("-title")},e.title),e.desc&&n("div",{className:this.getClassNames("-desc")},e.desc)])}})}.apply(t,s))||(e.exports=i)},389:function(e,t,n){"use strict";var s,i;s=[n(0),n(5),n(11)],void 0===(i=function(e,t,n){var s=e.h;return t.extend({name:"nv-wizi",render:function(e){return s("div",{},[s(n.Button,{className:this.getClassNames("-button")+" reset border-only",value:_("Reset"),events:{onClick:e.onResetClick}}),s(n.Button,{className:this.getClassNames("-button")+(e.label===_("Next")?" next":" dashboard")+" green"+(e.isWizardryEmpty?" hide":""),value:e.label,events:{onClick:e.onNextClick?e.onNextClick:e.onDashboardClick}})])}})}.apply(t,s))||(e.exports=i)},391:function(e,t,n){"use strict";var s,i;s=[n(1),n(10),n(111)],void 0===(i=function(e,t,n){var s=t.extend({name:"nv-start-modal",defaultOptions:{isClosable:!1,onClose:function(){},width:320},init:function(e){this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var t=this.elements;t.container=e.createElement("div",{class:this.getClassNames(),html:[t.message=e.createElement("div",{class:this.getClassNames("-message")}),t.content=e.createElement("div")]}),n.open(null,{contentTitle:"",classWindow:"start-modal",closeButton:!1,isClosable:this.options.isClosable,size:{x:this.options.width,y:null},onClose:function(){this.options.onClose()}.bind(this)}),n.getContent().addContent(t.container),this.buildModal()},buildModal:function(){},setLoading:function(){var e=this.elements.inputSubmit;e.setValue(_("Loading...")),e.setDisabled(!0)},removeLoading:function(){var e=this.elements.inputSubmit;e.setValue(e.getContent().getAttribute("data-text")),e.setDisabled(!1)},setMessage:function(t,n,s){var i;s?"error"===n&&((i=s.getInputElement().getParent(".error-block")).addClassName("active"),i.setAttribute("data-error",t)):e.createElement("div",{class:"uwa-message "+n,text:t}).inject(this.elements.message)},removeMessage:function(e){e?e.getInputElement().getParent(".error-block").removeClassName("active"):this.elements.message.empty()},removeAllMessages:function(){this.elements.message.empty(),this.elements.content.getElements(".error-block").invoke("removeClassName","active")}});return App.Components=App.Components||{},App.Components.StartModal=s,s}.apply(t,s))||(e.exports=i)},668:function(e,t,n){n(65),n(60),n(74),n(81),n(82),n(83),n(68),n(84),n(85),n(669),n(429),n(405),e.exports=n(406)},669:function(e,t,n){"use strict";var s,i;s=[n(1),n(56),n(3),n(16),n(18),n(53),n(95),n(352),n(15),n(2),n(4),n(6),n(27),n(35),n(45),n(52),n(21),n(96),n(17),n(69),n(103),n(363),n(215),n(175),n(709),n(374),n(274),n(148),n(172),n(740),n(741),n(151),n(742),n(62),n(176),n(379),n(179),n(104),n(370),n(371),n(382),n(749),n(750),n(373),n(751),n(752),n(386),n(177),n(753),n(764),n(765),n(766),n(118),n(781),n(78),n(782),n(783)],void 0===(i=function(e,t,n,s,i,a,o,l,r,c,d,u,h,m,p,g,f,v,b,y,w,C,E,S,x,k,N,P,T,z,L,A,D,I,M,R,U,F,B,O,K,W,V,j,G,H,q,Y,Z,Q,J,X,$,ee,te){function ne(){var t;!function(){if(!c.Page.isPublic){var e=document.body.getElement(".topbar .topbar-switch");e&&e.addEventListener("click",function(){var t;e.hasClassName("reader")?(t=1,e.addClassName("widgets"),e.removeClassName("reader"),m.log("reader","widgetView")):(t=2,e.addClassName("reader"),e.removeClassName("widgets"),m.log("reader","readerView")),u.saveUserPageViewType({type:t}).done(function(){window.location.href=window.location.pathname})})}}(),F.init(),ee.init();var s,a=document.body.getElement(".topbar-settings");a&&a.addEventListener("click",function(){B.open()}),c.Page.isPublic&&c.Page.userId!==c.User.id&&(t=document.body.getElement("#backToMyPage"))&&t.set("text",c.User.isRegistered?_("Back to my private page"):_("Create your personalized page")),j.init(),function t(){if(!(c.Page.inSmartReaderView||c.Page.isPublic&&c.Page.userId!==c.User.id)&&c.isAllowed("dashboard_title_edit")){var s=document.body.getElement("#pageTitle").getChildren()[0];s.onmouseover=function(){this.style.backgroundColor="#FAFAFA",this.foregroundColor=this.style.color,this.style.color="#333",this.style.border="1px solid #EEE"},s.onmouseout=function(){this.style.backgroundColor="transparent",this.style.color=this.foregroundColor,this.style.border="none"},s.onclick=function(){g.pushFocus("edit"),this.onclick=null,this.onmouseout(),this.onmouseover=null;var s=this.getText(),i=this.offsetWidth,a=e.createElement("input");a.type="text",a.className="inputPageTitle",a.maxLength=80,a.value=s,a.style.width=i+"px",this.innerHTML="",this.appendChild(a),a.focus(),a.select(),a.addEvent("keydown",function(e){"return"===n.whichKey(e)&&a.onblur()}),a.onkeyup=function(){this.style.width=8*this.value.length+20+"px"},a.onblur=function(){var e=""===this.value.trim(),n=e?_("Type your page title here"):this.value,s=this.parentNode;s.innerHTML="",s.appendChild(document.createTextNode(n)),n!==c.Page.title&&(c.Page.title=n,u.saveUserPageTitle({title:this.value}).done(),n=e?_("No title"):n,document.title=n,c.User.listOfPages.forEach(function(e){e.pageId===c.Page.id&&(e.title=n)}),document.body.getElement("#userPages").getElement(".page.active span.title").set("text",n.cut(45))),t(),g.popFocus("edit")}}}}(),(s=document.body.getElement("#userPages"))&&q.bindElement(s.getElement("#dashboard-wizard-button")),function(){if(i.Features.touchEvents){var t,s,a,o=e.extendElement(document.getElementById("top"));t=function(){o.getElements(".dropdown.active").forEach(function(e){setTimeout(function(){e.removeClassName("active")},350)})},a=function(){setTimeout(t,20)},s=function(e){n.getElement(e).getClosest(".dropdown")||(a(),document.body.removeEventListener("touchend",s,!0))},o.addEvent("click",function(e){var i=n.getElement(e).getClosest(".dropdown");i&&i.hasClassName("dropdown")?i.hasClassName("active")?(a(),document.body.removeEventListener("touchend",s,!0)):(t(),i.addClassName("active"),document.body.addEventListener("touchend",s,!0)):t()})}}(),O.init();var o=document.body.getElement("#emailUs");o&&(o.onclick=function(){return G.show(),!1})}function se(t){if(e.i18n(App.Localisation),!function(){if(!o.enabled){var t,n=_("It seems cookies are either disabled or not configured correctly on your browser right now.")+" "+_("To use your personalized startpage, {0}change your cookies options in your browser{1}, then try again."),s=c.Config.urls.faq&&c.Config.urls.faq+"/topics/55687-access";return"fr"===c.Globalization.shortLanguage&&(s=c.Config.urls.faq&&encodeURI(c.Config.urls.faq+"/topics/58273-accès")),n=window.top.location===window.location&&c.Config.urls.faq?n.format('<a href="'+s+'">',"</a>"):n.format("",""),(i.Engine.firefox||i.Engine.safari)&&(t="/img/cookies-{0}-{1}.png".format(i.Engine.name,"fr"===c.Globalization.shortLanguage?"fr":"en"),n+='<img src="'+d.getStaticUrl(t)+'" class="screenshot" alt="" />'),(document.body.getElement("#pageLoading")||e.createElement("div").inject(document.body.getElement("#modulesArea"),"top")).set({id:"pageError",html:"<p>"+n+"</p>"}),!1}return!0}()||!function(){if(c.isDebug())return!0;if(i.Engine.ie&&i.Engine.version<7){var t=_("Sorry, your browser is not compatible: {0}check out our list of supported browsers{1}.");return t=c.Config.urls.faq?t.format('<a href="'+c.Config.urls.faq+'/topics/55687-access">',"</a>"):t.format("",""),(document.body.getElement("#pageLoading")||e.createElement("div").inject(document.body.getElement("#modulesArea"),"top")).set({id:"pageError",html:t}),!1}return!(i.Engine.ie&&i.Engine.version<10&&!o.get("sawBrowserSuggestion")&&(window.location="/browser-upgrade",1))}())return!1;var h;if(h=t.custom,p.init(h),document.body.toggleClassName("hide-favicons",p.get("hideFavIcons")),document.body.toggleClassName("compact-mode",p.get("compactMode")),document.body.toggleClassName("show-only-unread-feeds",p.get("showOnlyUnreadFeeds")),p.get("adaptArticleWidth")&&document.body.setAttribute("data-article-width",p.get("articleWidth")),!Y.launchIfNeeded()&&!Z.launchIfNeeded())if(c.User.isRegistered||c.Page.isPremiumCopy||c.Page.isPublic||c.getActiveProduct({trial:!0})){var T,B;if("safari"===i.Engine.name&&9===i.Engine.version&&(document.querySelector('meta[name="viewport"]').content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0"),ne(),function(){if(d.getVar("share")){var e=d.getVar("url"),t=d.getVar("title")?decodeURI(d.getVar("title")).replace(/\+/g," "):"";e&&c.isAllowed("share")&&U.show({title:t,url:e,type:"external"})}}(),T=document.body.getElement("#iframes"),(B=document.createElement("iframe")).src=d.getStaticUrl("/empty.html"),B.id="commFrame",B.style.width="1px",B.style.height="1px",B.style.border=0,B.style.visibility="hidden",T.appendChild(B),m.bindClick("topBar-profile","topBar","openProfile").bindClick("topBar-help","topBar","openHelp"),N(),P.registerResizeEvent(N),c.NPD){var O=c.getActiveProduct();O&&document.body.addClassName("TYPE_AGENCY"===O.type?"agency":"TYPE_VIP"===O.type?"vip":"premium")}else!function(){var e=window.location;if(c.Config.iframe_protection&&window.top.location!==e){var t="utm_source="+encodeURIComponent(document.referrer)+"&utm_medium=web&utm_campaign=framebusting",n=(e.search?e.search+"&":"?")+t,s=e.protocol+"//"+e.hostname+e.pathname+n+e.hash;window.top.location.href=s}}();var K,j,G,q,ee,te,se,ie,ae,oe=o.get("undoTheme");oe&&(o.expire("undoTheme",{path:"/"}),(oe=JSON.parse(oe))&&S.undoTheme(oe)),c.User.isPremium&&c.User.defaultPayment&&new A({}).setMessage(e.createElement("span",{text:_("Your last payment did not go through.")}),e.createElement("a",{href:"/account/premium",text:_("Go through the whole payment process"),class:"nv-button"})).inject().open(),/^(zh|ko|ja)$/.test(c.Globalization.shortLanguage)&&r.addClassName.call(document.body,"loc-"+c.Globalization.shortLanguage),l.onlineStateChanged.add(function(e){e&&b.getAll().forEach(function(e){"window"===e.getView().type&&e.sendContent("onRefresh")})}),S.refresh(),r.removeClassName.call(document.body,"nv-loading"),function(){var e=n.whichKey;function t(){var e=v.getFocused();e&&e.focus(!1)}function s(e){var n,s=f.getAll(),i=s.length,a=null,o=s[0],l=s[i-1];for(n=0;n<i;n++)if(s[n].dataObj.id!==c.Page.openTabId){if(f.hasMatchingLabels(s[n].dataObj.id)&&(null===a&&(l=s[n]),null!==a)){o=s[n];break}}else a=s[n];switch(t(),e){case-1:M.selectTab(l);break;case 1:M.selectTab(o)}}function i(e){return function(){var t,n=v.getFocused();return n&&((t=[].slice.call(arguments)).unshift(n),e.apply(null,t)),!!n}}g.addShortcuts({tab:{"h,?,f1":function(){g.openHelp(_("Tab"),'<table><tr><td><span class="cap">T</span> '+_("then")+' <span class="cap">N</span></td><td>'+_("New tab")+'</td></tr><tr><td><span class="cap">T</span> '+_("then")+' <span class="cap">D</span></td><td>'+_("Delete tab")+'</td></tr><tr><td><span class="cap">T</span> '+_("then")+' <span class="cap">R</span></td><td>'+_("Rename tab")+'</td></tr><tr><td><span class="cap">T</span> '+_("then")+' <span class="cap">O</span></td><td>'+_("Tab options")+'</td></tr><tr><td><span class="cap">T</span> '+_("then")+' <span class="cap">L</span></td><td>'+_("Choose tab labels")+"</td></tr></table>")},n:function(){c.isAllowed("dashboard_add_tab")&&(M.addNewTab(),g.popFocus())},r:function(){f.getFocused().rename(),g.popFocus()},o:function(){M.showTabOptions(),g.popFocus()},d:function(){M.showTabOptions(),R.getActive().onActionDeleteTab()},return:function(){R.closeActive(),g.popFocus()}},"module.edit":{esc:i(function(e){e.toggleEdit(!1)})},"module.action":{esc:function(){g.popFocus()},any:i(function(t,n){"function"==typeof t.content.onKeyboardAction&&t.content.onKeyboardAction(e(n))})},module:{a:function(){c.isAllowed("dashboard_add_content")&&F.open()},j:function(){s(-1)},k:function(){s(1)},t:function(){g.pushFocus("tab")},"0,1,2,3,4,5,6,7,8,9":function(n){M.selectTab(+e(n)-1),t()},"h,?,f1":function(){g.openHelp(_("Module"),'<table><tr><td><span class="cap uwa-icon" data-icon="F"></span><span class="cap uwa-icon" data-icon="G"></span><span class="cap uwa-icon" data-icon="E"></span><span class="cap uwa-icon" data-icon="D"></span><td>'+_("Navigate through modules")+'</td></tr><tr><td><span class="cap med">enter</span></td><td>'+_("Do action on module (feed and webnote)")+'</td></tr><tr><td><span class="cap med">shift</span>'+_("then")+' <span class="cap uwa-icon" data-icon="F"></span><span class="cap uwa-icon" data-icon="G"></span><span class="cap uwa-icon" data-icon="E"></span><span class="cap uwa-icon" data-icon="D"></span></td><td>'+_("Move the selected module")+'</td></tr><tr><td><span class="cap med">shift</span>'+_("then")+' <span class="cap">T</span><span class="cap">B</span></td><td>'+_("Move the selected module to the top or bottom")+'</td></tr><tr><td><span class="cap">E</span></td><td>'+_("Edit module")+'</td></tr><tr><td><span class="cap">R</span></td><td>'+_("Refresh module")+'</td></tr><tr><td><span class="cap">D</span></td><td>'+_("Delete module")+'</td></tr><tr><td><span class="cap">1</span><span class="cap">2</span>... <span class="cap">0</span></td><td>'+_("Switch to tab 1 to 10")+'</td></tr><tr><td><span class="cap">J</span><span class="cap">K</span></td><td>'+_("Navigate through tabs")+'</td></tr><tr><td><span class="cap">F</span></td><td>'+_("Search in my page")+'</td></tr><tr><td><span class="cap">S</span></td><td>'+_("Settings")+'</td></tr><tr><td><span class="cap">T</span>'+_("then")+' <span class="cap">H</span></td><td>'+_("Tab help")+'</td></tr><tr><td><span class="cap">A</span></td><td>'+_("Add content")+"</td></tr></table>")},"left,right,up,down":function(t){var n,s=v.getFocused();(n=s?C.getModuleAt(s,e(t)):b.getByTab()[0])&&s!==n&&n.focus().scrollTo()},return:i(function(e){e.content.onKeyboardEnter&&(g.pushFocus("module.action"),e.content.onKeyboardEnter())}),p:i(function(e){e.share()}),r:i(function(e,t){e.refreshMode&&e.refresh(t)}),u:i(function(e){e.content.setAllAsReadOnMouseDown&&e.content.setAllAsReadOnMouseDown()}),e:i(function(e){e.toggleEdit(!0)}),d:i(function(e){e.confirmRemove()}),"shift+a":i(function(e){"RssReader"===e.dataObj.moduleName&&e.content.setAllAsReadOnMouseDown()}),"shift+u":i(function(e){"RssReader"===e.dataObj.moduleName&&e.content.setAllAsUnRead()}),"shift+left,shift+right,shift+up,shift+down,shift+b,shift+t":i(function(t,n){var s=e(n).split("+")[1];C.movePosition(t,"t"===s?"top":"b"===s?"bottom":s),t.scrollTo()}),"shift+c":i(function(e){e.collapseExpand()}),"shift+d":i(function(e){y.clone(e)})},any:{esc:function(){"module"!==g.focus()&&g.popFocus(),F.close(),R.closeActive(),t()}}}),g.init()}(),G=new Date,q=new Date(G.getFullYear(),0,1,0,0,0,0),ee=new Date(G.getFullYear(),6,1,0,0,0,0),te=q.toGMTString(),se=ee.toGMTString(),ie=(q-new Date(te.substring(0,te.lastIndexOf(" ")-1)))/36e5,K=(ae=(ee-new Date(se.substring(0,se.lastIndexOf(" ")-1)))/36e5)===ie?ie:ae,o.get("tz")!==K&&o.set("tz",K,{path:"/",expires:5184e3}),(j=document.body.getElement("#pageLoading"))&&j.destroy(),c.Page.inSmartReaderView?$.initialize(t):(E.init(document.body.getElement("#modulesArea"),{enableResize:!c.Page.isPublic||c.Page.userId===c.User.id}).updateLayout(),L.init({delegate:".gripper, .gripper *",root:document.body.getElement("#modulesArea")}),function(e){M.init(document.body.getElement("#divTabs"),e);var t=c.Page.isPublic&&c.Page.userId!==c.User.id;if(0===e.length?(document.body.getElement("#divTabs").style.visibility="hidden",document.body.getElement("#divTabsOuter").style.visibility="hidden"):p.get("hidePublicTabs")&&t&&(document.body.getElement("#divTabs").style.visibility="hidden",document.body.getElement("#divTabsOuter").style.visibility="hidden"),c.Page.isPublic&&t){var n=document.body.getElement("#newTab");n&&n.destroy()}}(t.tabs),function(e){e.modules.forEach(w.factory),g.pushFocus("module")}(t),z.init());var le,re=x.run();c.Page.inSmartReaderView||("tab-selected"!==re&&M.selectTab(f.getById(c.Page.openTabId)||f.getAll()[0]),k.run(),f.reinitItemLists(!0),f.updateLabelFilter()),v.resetPositionsIfNeeded(),function(){if(c.Page)if(c.Page.isUpdated)new D({content:_("Your dashboard has been updated"),target:document.body.getElement("#userPages"),autoclose:5e3,constraintSize:{x:null},isPointer:!0}).show();else if(c.Page.hasToSync){var e=new I({message:_("Your copy of the Primary Dashboard appears to be outdated. A complete sync is required. Warning: this will completely remove all your current content, updates and customisations and replace your dashboard with a new one. This can't be undone."),cancelText:null,confirm:{text:_("Yes, delete the current dashboard and get the updated one")},discard:{text:_("Not now")},morebuttons:[{text:_("Download a backup first"),href:c.Config.mount_points.api+"/my/account/export?pageId="+c.Page.id}],width:880});e.addEvent("onConfirm",function(){u.myDashboardDelete().done(function(){window.location=c.NPD.url})}),e.show()}}(),function(){if(!c.User.isRegistered&&!c.NPD){var e,t=document.body.getElement("#join-now");t&&(e=t.getHTML(),new D({additionalClasses:"nv-balloon-bigFont",content:e,target:document.body.getElement("#userProfile"),isPointer:!0}).show())}}(),(le=document.body.getElement(".nv-footer-toggle"))&&!c.isIOSApp()&&(le.setStyle("display","block"),le.addEvent("click",function(){var e=document.body.getElement(".nv-footer"),t=e.hasClassName("footer-expanded");e.toggleClassName("footer-expanded",!t),t||a.scrollToElement(e,{scrollable:document.body})}));var ce=[function(){return"routed"===re},W.launch,V.launch,H.launch,X.launch];(function e(){if(ce.length){var t=ce.shift();return s.resolve(t()).fail(function(e){return console.log("Error while launching a wizard or incentive : "+e),!1}).then(function(t){if(!t)return e()})}})().done()}else c.User.email?new Q:new J}n.onDomReady(function(){te.parse(document.body)}),c.onReady(function(){u[c.Page.isPublic&&c.Page.userId!==c.User.id?"dashboardData":"myDashboardData"]().done(function(e){se(e),T.trigger()},h.displayError)})}.apply(t,s))||(e.exports=i)},709:function(e,t,n){"use strict";var s,i;s=[n(2),n(121),n(710),n(4),n(21),n(172),n(104),n(187),n(13),n(15),n(370),n(177),n(17)],void 0===(i=function(e,t,n,s,i,a,o,l,r,c,d,u,h){var m={};function p(e,t){m[e]=t}function g(t){return function(){e.Page.isPublic||t.apply(this,arguments)}}p("potionWizard",function(){a.addCallback(function(){l.launchWizardFromScratch("PotionWizard","Potion")})}),p("item/(.*)",function(e,t){n.openInDashboard(t)}),p("settings",g(function(){d.open()})),p("widgets",g(function(){o.open()})),p("createAPotion",g(function(){a.addCallback(function(){o.open(),o.getTab("newTab").showGob(!0)})})),p("editPotion/(.*)",g(function(e,t){a.addCallback(function(){var e=h.getAll().filter(function(e){var n=e.getData();return"PotionWizard"===e.getName()&&n.potionId===t})[0];e&&(e.addEvent("onLoaded",function(){l.launchWizard(this.widget,"Potion")}),e.load())})})),p("wizardry",g(function(){u.isAvailable()&&u.reset()}));var f=!1;function v(){return decodeURIComponent(window.location.hash.slice(1))}function b(){var e,n=!0;return new t(m,{formater:"apply"}).match(v(),function(){n=!1}),!!n&&(e="",window.location.hash=encodeURIComponent(e),"routed")}var y={run:function(){if(f||(c.addEvent.call(window,"hashchange",y.run),f=!0),v())return b()||function(){if(e.Page.inSmartReaderView)return!1;var t=i.getByAnchor(v());return!(!t.length||t.indexOf(i.getFocused())>=0||!i.hasMatchingLabels(t[0]))&&(i.focusTab(t[0]),"tab-selected")}()}};return App.HashRoute=y,y}.apply(t,s))||(e.exports=i)},710:function(e,t,n){"use strict";var s,i;s=[n(2),n(6),n(27),n(160),n(190),n(156)],void 0===(i=function(e,t,s,i,a,o){function l(e){s.displayError(e,{"item not found":_("Item not found"),"not a subscriber":_("You are not allowed to see this item")})}function r(t){var s=i.factory(t);e.Page.inSmartReaderView?Promise.resolve().then(function(){var e=[n(118)];(function(e){e.displayItem(s)}).apply(null,e)}).catch(n.oe):Promise.resolve().then(function(){var e=[n(159)];(function(e){e.open({item:s,itemList:new a([s.getStream()],{api:o})})}).apply(null,e)}).catch(n.oe)}return{openInDashboard:function(e){t.streamItem({itemId:e}).done(r,l)}}}.apply(t,s))||(e.exports=i)},716:function(e,t,n){"use strict";var s,i;s=[n(1),n(3),n(8),n(23),n(2),n(371),n(45),n(175),n(152)],void 0===(i=function(e,t,n,s,i,a,o,l,r){var c=e.createElement;return r.extend({injectData:function(){this.isBuilding=!0,this.settingsRules.forEach(function(e){e.settings.forEach(this.setSettingValue,this)},this),this.onAdaptArticleWidth(),this.isBuilding=!1},buildPanel:function(){this.settingsInputs={},this.settingsRules=[{name:_("Interface"),settings:[{id:"showTitle",type:"checkbox",label:_("Display page title"),help:_("Uncheck to save space"),displayRule:!i.Page.inSmartReaderView,action:this.onShowTitle.bind(this)},{id:"displayAnalyze",type:"checkbox",label:_("Display Analyze buttons"),help:_("The page will reload automatically"),displayRule:i.User.isVip,action:this.onDisplayAnalyze.bind(this)},{id:"hidePublicTabs",type:"checkbox",label:_("Hide public page tabs"),help:_("Hide tabs for everyone except you"),displayRule:i.Page.isPublic,action:this.onHidePublicTabs.bind(this)},{id:"keyboardNav",type:"checkbox",label:_("Enable keyboard navigation"),help:_("Enables shortcuts"),faqUrl:i.Config.urls.faq+"/knowledgebase/articles/373385"},{id:"showOnlyUnreadFeeds",type:"checkbox",label:_("Show only feeds with unread articles"),help:_("Filter entries in the left sidebar"),displayRule:i.Page.inSmartReaderView,action:this.onShowOnlyUnreadFeeds.bind(this)}]},{name:_("Apps"),settings:[{id:"hideFavIcons",reverse:!0,type:"checkbox",label:_("Display favicons"),help:_("Displays favicons of apps"),action:this.onHideFavIcons.bind(this)}]},{name:_("Article display"),settings:[{id:"compactMode",type:"checkbox",label:_("Compact mode"),action:this.onCompactMode.bind(this)},{id:"adaptArticleWidth",type:"radio",label:_("Article width"),action:this.onAdaptArticleWidth.bind(this),options:[{id:"adaptArticleWidthFalse",value:"false",label:_("by default")},{id:"adaptArticleWidthTrue",value:"true",label:_("maximum adaptive width"),subsetting:{id:"articleWidth",type:"select",action:this.setArticleWidth.bind(this),options:[{value:"50",label:"50%"},{value:"75",label:"75%"},{value:"100",label:"100%"}]}}]}]},{name:_("Performance"),settings:[{id:"dontPreload",type:"checkbox",label:_("Show unread count only on active tab"),help:_("Reduces load for slow connections"),displayRule:!i.Page.inSmartReaderView}]}],this.elements.panel.addContent(c("div",{class:this.getClassNames("-content-title"),text:_("General settings")}),new s({element:c("div",{class:this.getClassNames("-content-settings")}).addContent(this.settingsRules.map(function(e){return this.buildSettingsGroup(e)},this)),shadows:!0}))},buildSettingsGroup:function(t){if(t.settings.detect(function(t){return!e.is(t.displayRule)||t.displayRule}))return c("div",{class:this.getClassNames("-content-settings-rules")}).addContent(c("div",{class:this.getClassNames("-content-desc"),text:t.name}),t.settings.map(this.buildSetting,this))},buildSetting:function(t){if(!e.is(t.displayRule)||t.displayRule)return c("div",{class:this.getClassNames("-content-settings-item")+" "+t.type}).addContent(this.buildCheckboxElement(t),c("label",{for:t.id}).addContent(t.label,t.help?" - "+t.help:"",this.buildFaqElement(t.faqUrl)),this.buildRadioElement(t),this.buildSelectElement(t))},buildCheckboxElement:function(e){if("checkbox"===e.type){var t=new n.Checkbox({attributes:{id:e.id},className:"green",events:{onChange:this.onSettingChange.bind(this)}});return t.getContent().setData("id",e.id),this.settingsInputs[e.id]=t,t}},buildRadioElement:function(e){if("radio"===e.type)return e.options.map(function(t){var s=new n.Radio({attributes:{name:e.id,id:t.id,value:t.value},className:"green",events:{onChange:this.onSettingChange.bind(this)}});return s.getContent().setData("id",t.id),this.settingsInputs[t.id]=s,c("div",{class:this.getClassNames("-content-settings-item-radio")}).addContent(s,c("label",{for:t.id,text:t.label}),t.subsetting?this.buildSelectElement(t.subsetting):"")},this)},buildSelectElement:function(e){if("select"===e.type){var t=new n.Select({options:e.options,events:{onChange:this.onSettingChange.bind(this)}});return t.getContent().setData("id",e.id),this.settingsInputs[e.id]=t,t}},buildFaqElement:function(e){if(e)return[" ( ",c("a",{href:e,text:_("what's this")})," )"]},getSettingById:function(e){var t;return this.settingsRules.forEach(function(n){return n.settings.forEach(function(n){(n.options&&n.options.detect(function(n){if(!n.subsetting||n.subsetting.id!==e)return n.id===e;t=n.subsetting})||n.id===e)&&(t=n)})}),t},setSettingValue:function(t){if(!e.is(t.displayRule)||t.displayRule){var n=this.settingsInputs[t.id],s=o.get(t.id);"checkbox"===t.type?n.check(t.reverse?!s:s):"select"===t.type?t.options.forEach(function(e,t){e.value===s.toString()&&n.setSelection([t])}):"radio"===t.type&&t.options.forEach(function(e){this.settingsInputs[e.id].check(e.value===s.toString()),e.subsetting&&this.setSettingValue(e.subsetting)},this)}},saveSetting:function(e){var t=this.getSettingById(e),n=this.settingsInputs[e];"checkbox"===t.type?o.set(e,t.reverse?!n.isChecked():n.isChecked()):"radio"===t.type?(e=t.id,o.set(e,n.getValue())):"select"===t.type&&(n=n.getInputElement(),o.set(e,n.value)),o.save(),t.action&&t.action(o.get(e))},onSettingChange:function(e){if(!this.isBuilding){var n=t.findElement(e,".uwa-input").getData("id");this.saveSetting(n)}},onShowTitle:function(){l.refresh()},onDisplayAnalyze:function(e){document.body.toggleClassName("hideAnalyze",!e)},onHidePublicTabs:function(e){i.Page.userId===i.User.id&&(document.body.getElement("#divTabs").setStyle("visibility",e?"hidden":""),document.body.getElement("#divTabsOuter").setStyle("visibility",e?"hidden":""))},onShowOnlyUnreadFeeds:function(e){document.body.toggleClassName("show-only-unread-feeds",e)},onSearchTabShow:function(e){a.setVisible(e)},onHideFavIcons:function(e){document.body.toggleClassName("hide-favicons",e)},onCompactMode:function(e){document.body.toggleClassName("compact-mode",e)},onAdaptArticleWidth:function(){var e=this.settingsInputs.adaptArticleWidthFalse.isChecked();this.settingsInputs.articleWidth.setDisabled(e),this.setArticleWidth(!e&&o.get("articleWidth"))},setArticleWidth:function(e){e&&UWA.is(e,"number")?document.body.setData("article-width",e):document.body.removeData("article-width")}})}.apply(t,s))||(e.exports=i)},718:function(e,t,n){"use strict";var s,i;s=[n(1),n(9),n(3),n(24),n(53),n(39),n(20),n(6),n(2),n(51),n(161),n(41)],void 0===(i=function(e,t,n,s,i,a,o,l,r,c,d,u){var h;function m(e,t,n){var s=void 0!==t;if(s&&void 0===n&&(n=t),void 0!==e.selectionStart)return s&&(e.selectionStart=t,e.selectionEnd=n),{start:e.selectionStart,end:e.selectionEnd};if(document.selection){var i=e.createTextRange();s&&(i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select());var a=document.selection.createRange();if(null===a)return{start:0,end:0};var o=i.duplicate();return i.moveToBookmark(a.getBookmark()),o.setEndPoint("EndToStart",i),{start:o.text.length,end:o.text.length+a.text.length}}}function p(e){var t,n=[],s=/\\*"/g;do{(t=s.exec(e))&&t[0].length%2&&n.push(t.index+t[0].length)}while(t);return n}return t.extend(a,s,{init:function(e){this.element=e;var t=0;this._running=!1,this.getDropDown().addEvent("mousedown",function(e){var s=n.getElement(e).getClosest(".choice");s&&(this.setChoice(this.dropdown.getElements(".choice").indexOf(s)+1),this.validate(),n.stop(e),this.dispatchEvent("onClick")),t=Date.now()}.bind(this)),e.addEvent("keydown",function(t){var s=n.whichKey(t),i=this.hasSelection();function a(){n.stop(t)}var o=function(){var t=e.value;this.setDelayed("run",function(){t!==e.value&&this.run()}.bind(this),500)}.bind(this);"return"===s?(i?this.validate():e.value.length&&(this.stop(),this._runningSearch=!0,this.dispatchEvent("onSubmit",[e.value])),a()):["up","shift+tab"].includes(s)?(this.next(-1),a()):["down","tab"].includes(s)?(this.next(1),a()):i&&["right","left"].includes(s)?this.run():["esc"].includes(s)?(this.cancel(),a()):o()}.bind(this)),e.addEvent("blur",function(){Date.now()-t>50?this.stop():e.focus()}.bind(this)),e.addEvent("focus",function(){Date.now()-t>50&&(h=null,setTimeout(this.run.bind(this),500))}.bind(this))},getDropDown:function(){return this.dropdown||(this.dropdown=e.createElement("div")),this.dropdown},getChoices:function(t,n){var s,i,a,c,u=function(e){return h&&!e||(h={enclosure:["true","false"],audio:["true","false"],video:["true","false"],image:["true","false"],emotion:["positive","neutral","negative"],feed:[],tab:[],author:[],media:[],category:[],theme:[],domain:[],organization:[],event:[],people:[],location:[],expressions:[]},"t"===e&&(h["twitter.reach_count"]=[],h["twitter.followers_ratio"]=[],h["twitter.followers_count"]=[],h["twitter.followings_count"]=[],h["twitter.type"]=[],h["twitter.in_reply_to"]=[],h["twitter.retweeter"]=[],h["twitter.author"]=[]),r.isAllowed("tag")&&(h.opinion=[],h.sentiment=[],h.user=[]),r.isAllowed("library")&&(h.library=[])),h}(t?t.charAt(0):""),m=function(e,t){var n,s=e.substr(t),i=e.substr(0,t),a=t,o=t,l=p(i),r=p(s);return l.length%2==0?(a=i.lastIndexOf(" ")+1,o=(n=s.indexOf(" "))<0?e.length:o+n):(a=i.lastIndexOf(" ",l[l.length-1])+1,r.length%2==0?o=(n=s.indexOf(" "))<0?e.length:o+n:o+=r[0]),{start:a,end:o}}(t,n),g=t.slice(m.start,m.end),f=Object.keys(u),v=g.split(":"),b=function(e){return e.substr(e.lastIndexOf(",")+1)},y=function(n,s){var a=[];return n.forEach(function(n){var o,l,r,c,u,h,p=g.length;(l=e.is(n,"object")?n.moduleTitle||n.label:n)&&(s&&(l+=":"),'"'===(o=l.toLowerCase()).charAt(0)&&(o=o.slice(1)),0===o.indexOf(i)&&l!==g&&(l!==(c=s?l:d.escapeQuery(l))?(r=t.substr(0,m.start)+c+t.substr(m.end),h=(u=m.start)+l.length+c.length-l.length):(r=t.substr(0,m.start)+l+t.substr(m.end),h=(u=m.start+p)+l.length-p),a.push({data:n.data||n,value:l,fullText:r,start:u,end:h})))}),a};if(v.length>1){if(s=v.shift(),m.start+=s.length+1,g=v.join(":"),-1!==s.indexOf(",")){var w=s.split(","),C=g.split(","),_=t.slice(m.start,n).split(",").length-1;for(s=w[_],a=0,c=C.length;a<c;a++)a<_?m.start+=C[a].length+1:a>_&&(m.end-=C[a].length+1);g=C[_]}return u=u[s]||[],g=b(g),'"'===(i=g.toLowerCase()).charAt(0)&&(i=i.slice(1)),t===this.previousValue?o.resolve(y(this.currentChoices)):l.getSearchData({prefix:s,start:i}).then(function(e){return y(e[s])})}return u=f,m.start+=g.lastIndexOf(",")+1,g=b(g),i=g.toLowerCase(),o.resolve(y(u,!0))},running:function(){return this._running},runningSearch:function(){return this._runningSearch},hasSelection:function(){return!!this.dropdown.getElement(".current")},validate:function(){m(this.element,m(this.element).end),this.run()},run:function(){if(!this._running){var t=this.element;if(document.activeElement===t){var n=m(t).start;this.dropdown.setContent({tag:"div",class:"uzo-loading",html:[new u({autostart:!0,delay:0,size:20,color:"#CACACA"}),_("Loading...")]}),this._running=!0,this._runningSearch=!1,this.start(),this.getChoices(t.value,n).done(function(t){document.activeElement!==this.element||this.runningSearch()?this.stop():(this.saveValue(),this.currentChoices=t,this._running=!1,this.dropdown.empty(),t.length?(this.dropdown.setContent({tag:"div",class:"uzo-inner",html:t.map(function(t){return{tag:"p",text:t.value,class:"choice"+(e.is(t.data,"object")&&t.data.library?" is-lib":"")}})}),this.start()):this.stop())}.bind(this))}else this.stop()}},saveValue:function(){this.hasSelection()||(this.previousValue=this.element.value,this.previousSelection=m(this.element).start)},stop:function(){this.dropdown.setStyle("height",""),this._running=!1,this.saveValue()},start:function(){var e=this.dropdown,t=e.getChildren()[0].getSize();e.setStyle("height",t.height+3)},next:function(e){var t,n=this.dropdown,s=n.getElement(".current"),a=n.getElements(".choice"),o=a.length+1;void 0===e&&(e=1),s?(t=(a.indexOf(s)+1+e+o)%o,s.removeClassName("current")):t=1===e?1:o-1,t&&((s=a[t-1]).addClassName("current"),i.scrollToElement(s)),this.setChoice(t)},setChoice:function(e){var t=this.element;if(e){var n=this.currentChoices[e-1];t.value=n.fullText,m(t,n.start,n.end)}else t.value=this.previousValue,m(t,this.previousSelection);this.dispatchEvent("onUpdate")},cancel:function(){this.setChoice(),this.stop()}})}.apply(t,s))||(e.exports=i)},719:function(e,t,n){"use strict";var s,i;s=[n(1),n(26),n(10),n(2)],void 0===(i=function(e,t,n,s){var i=e.createElement;return n.extend({init:function(e){this._parent(e),this.buildSkeleton(),this._isOpen=!1},open:function(e){if(!this._isOpen){this._isOpen=!0;var n=this.elements.container,s=n.getSize().height;n.setStyle("height",0),n.setStyle("display","block");var i=new t(n,{duration:200,transition:"quartOut",events:{onComplete:function(){n.setStyle("height","")}}});window.setTimeout(function(){i.start({height:s})},e||0)}},close:function(){if(this._isOpen){var e=this.elements.container;new t(e,{duration:200,transition:"quartOut",events:{onComplete:function(){this._isOpen=!1,e.setStyles({height:"",top:"",display:""})}.bind(this)}}).start({height:0})}},buildSkeleton:function(){this.elements.container=i("div",{class:"uzo uzo-google"}).addContent(i("div",{class:"uzo-google-search"}).addContent(i("a",{class:"uwa-icon uzo-google-search-vip hide-not-premium",href:s.getWelcomeURL("vip"),"data-icon":"m"}).addContent(i("span",{class:"uzo-google-search-vip-link"}).addContent(i("span",{class:"uwa-icon","data-icon":"g"}),i("span",{class:"uzo-google-search-vip-link-text",text:_("Search your dasboard content")})))))}})}.apply(t,s))||(e.exports=i)},720:function(e,t,n){"use strict";var s,i;s=[n(1),n(3),n(26),n(10),n(23),n(425),n(44),n(4),n(27)],void 0===(i=function(e,t,n,s,i,a,o,l,r){var c=e.createElement;return s.extend({init:function(e){this._parent(e),this.buildSkeleton(),this._texts={articles:{icon:"5",text:_("articles")},rssreader:{icon:"7",text:_("feeds")},library:{icon:"À",text:_("libraries")},smartfilter:{icon:"6",text:_("tracked topics")},analyze:{icon:"ų",text:_("analytics")},socialpack_analytics:{icon:"ų",text:_("analytics")},socialpack_compare:{icon:"V",text:_("misodata")},potionwizard:{icon:"ȇ",text:_("potions")},other:{icon:"4",text:_("others")}}},displayResults:function(e){var t=[],n={};e.widgets.forEach(function(e){var t=e.name.toLowerCase();t=this._texts[t]?t:"other",n[t]||(n[t]=[]),n[t].push(e)}.bind(this)),t.push(this.buildItem("articles",e.articles)),Object.keys(this._texts).forEach(function(e){n[e]&&t.push(this.buildItem(e,n[e],n[e].length))},this),this.elements.content.setContent(t),this.open()},displayError:function(e){var t=_("Sorry, something went wrong.");e&&e.originalResponse&&e.originalResponse.error&&(t=r.getErrorMessage(e.originalResponse.error.code?"stream_"+e.originalResponse.error.code:e.originalResponse.error.message,{fallback:_("Oops, something went wrong. Please try again later.")})),this.elements.content.setContent(c("div",{class:"uzo-doashboard-error",text:t})),this.open()},open:function(){if(!this._isOpen){this._isOpen=!0;var e=this.elements.container,t=document.body.getElement("#main-container"),s=document.body.getElement("#sub-container"),i=t.getSize().height-s.getSize().height,a=document.body.getSize().height-i-100,o=this.elements.content.getSize().height;o=o<a?o:a,this.scroller.getInnerElement().scrollTop=0,e.addClassName("open"),e.setStyle("height",0),e.setStyle("display","block"),new n(e,{duration:200,transition:"quartOut"}).start({height:o})}},close:function(){var e=this.elements.container;e.removeClassName("open"),new n(e,{duration:200,transition:"quartOut",events:{onComplete:function(){this._isOpen=!1}.bind(this)}}).start({height:0})},disableSave:function(){this.elements.saveBtn.removeEventListener("click",this.onSaveButtonClick.bind(this)),this.elements.saveBtn.addClassName("off")},enableSave:function(){this.elements.saveBtn.addEventListener("click",this.onSaveButtonClick.bind(this)),this.elements.saveBtn.removeClassName("off")},displaySaveError:function(){this.elements.saveBtn.setContent(c("span",{class:"error",text:_("Sorry, something went wrong.")}))},buildSkeleton:function(){var e=c("div").addContent(this.elements.content=c("div",{class:"uzo-dashboard-in"}));this.elements.container=c("div",{class:"uzo uzo-dashboard"}).addContent(this.scroller=new i({element:e,shadows:!0}))},buildItem:function(e,t){var n,s="articles"===e;if(s)n=this.buildArticles(t);else if(t.length<=5)n=this.buildWidgets(e,t);else{var i=this.buildWidgets(e,t.slice(0,5)),a=this.buildWidgets(e,t.slice(5));n=[c("div",{class:"uzo-dashboard-item-content-first"}).addContent(i),c("div",{class:"uzo-dashboard-item-content-more"}).addContent(a),c("div",{class:"uzo-dashboard-item-content-btns"}).addContent(this.elements.seeMoreBtn=c("div",{class:"uzo-dashboard-item-content-btn more",events:{click:this.toggleSeeMore.bind(this)}}).addContent(c("span",{text:_("See more")}),c("i",{class:"uwa-icon arrow-down small"})),this.elements.seeLessBtn=c("div",{class:"uzo-dashboard-item-content-btn less",events:{click:this.toggleSeeMore.bind(this)}}).addContent(c("span",{text:_("See less")}),c("i",{class:"uwa-icon arrow-up small"})))]}var o=c("div",{class:"uzo-dashboard-item "+e}).addContent(c("div",{class:"uzo-dashboard-item-type"}).addContent(c("div",{class:"uzo-dashboard-item-type-title"}).addContent(c("i",{class:"uwa-icon","data-icon":this._texts[e].icon}),c("span",{text:this._texts[e].text}))),c("div",{class:"uzo-dashboard-item-content"}).addContent(n));return s?t.error?this.displayNumberResults(o,0):t.loadItemCount().done(function(){this.displayNumberResults(o,l.formatHumanNumber(t.getTotalItemCount()))}.bind(this)):this.displayNumberResults(o,t.length),o},buildArticles:function(e){if(e.error){var t=e.error.originalResponse&&e.error.originalResponse.error&&e.error.originalResponse.error.message;return c("div",{class:"uzo-dashboard-item-content-error",text:r.getErrorMessage(t,{fallback:_("Oops, something went wrong. Please try again later.")})})}var n=e.getItems(),s=n.length>0,i=c("div",{class:"uzo-dashboard-item-content-empty",text:_("No result found")}),l=n.map(function(e){return this.buildLink({title:e.getTitle(),link:e.getLink(),date:o.formatLocalizedDate(e.getPublishDate(),"date"),source:e.getSourceTitle(),sourceLink:e.getSourceLink()})}.bind(this)),d=e.getProducers()[0],u=[!d.isStatusFinish()&&new a({className:"dark",progress:d.getStatusProgress(),title:_("Please wait for data indexing to complete")}),s?c("ul").addContent(l):i,c("div",{class:"uzo-dashboard-item-content-btns"}).addContent(this.elements.saveBtn=c("div",{class:"uzo-dashboard-item-content-btn save"}).addContent(c("i",{class:"uwa-icon funnel"}),c("span",{text:_("Save tracked topic")})),this.elements.refineBtn=s?c("div",{class:"uzo-dashboard-item-content-btn refine"}).addContent(c("span",{text:_("See all, refine & analyse")}),c("i",{class:"uwa-icon next small"})):"")];return this.elements.saveBtn.addEventListener("click",this.onSaveButtonClick.bind(this)),this.elements.refineBtn&&this.elements.refineBtn.addEventListener("click",function(){this.dispatchEvent("onRefineClick")}.bind(this)),u},buildLink:function(e){return c("li").addContent(c("a",{class:"uzo-dashboard-item-content-title",target:"_blank",href:e.link,text:e.title}),c("span",{class:"uzo-dashboard-item-content-meta"}).addContent(c("span",{class:"uzo-dashboard-item-content-meta-date",text:e.date}),c("a",{class:"uzo-dashboard-item-content-meta-source",text:e.source,href:e.sourceLink})))},buildWidgets:function(e,t){var n=t.map(function(t){var n={title:t.title,id:parseInt(t.id,10),widget:t};if("rssreader"===e)n.meta=t.streams[0].link||t.streams[0].query;else if("socialpack_compare"===e||"socialpack_analytics"===e){var s=t.data.date_from&&""!==t.data.date_from?t.data.date_from:_("now"),i=t.data.date_to&&""!==t.data.date_to?t.data.date_to:_("now");n.meta=_("From {0} to {1}").format(s,i)}else if("analyze"===e)n.meta=t.data.description;else if("potionwizard"===e){var a=t.active?_("ON"):_("OFF");n.meta=_("Status: {0}").format(a)}else"smartfilter"!==e&&"library"!==e&&(n.meta=_("App: {0}").format(t.name));return this.buildWidget(n)}.bind(this));return c("ul").addContent(n)},buildWidget:function(e){return c("li",{class:"widget",events:{click:function(){this.dispatchEvent("onWidgetClick",e.widget)}.bind(this)}}).addContent(c("span",{class:"uzo-dashboard-item-content-title",html:e.title}),e.meta?c("span",{class:"uzo-dashboard-item-content-meta",text:e.meta}):"")},displayNumberResults:function(e,t){var n=e.getElement(".uzo-dashboard-item-type"),s=t<=1?_("{0} result").format(t):_("{0} results").format(t);n.addContent(c("div",{class:"uzo-dashboard-item-type-num",text:s}))},toggleSeeMore:function(e){var n=t.findElement(e,".uzo-dashboard-item-content"),s=n.hasClassName("more");n.toggleClassName("more",!s)},onSaveButtonClick:function(){this.dispatchEvent("onSaveClick")}})}.apply(t,s))||(e.exports=i)},721:function(e,t,n){"use strict";var s,i;s=[n(1),n(3),n(23),n(58),n(45),n(21),n(152)],void 0===(i=function(e,t,n,s,i,a,o){var l=e.createElement;return o.extend({getData:function(){var e=a.getAllLabels(),t=i.get("selectedTabLabels"),n=t.filter(function(n,s){return t.indexOf(n)===s&&e.indexOf(n)>=0});return t.length!==n.length&&this.setData(n),n},setData:function(e){i.set("selectedTabLabels",e||[]),i.saveNow(),this.injectData(),a.updateLabelFilter()},injectData:function(){var e=this.getData();this.elements.labels.setContent(this.buildLabels()),this.elements.nLabels.setContent(e.length>0?_("{0} selected labels").format(e.length):_("No label selected")),this.elements.labels.getElements(".uwa-tag").forEach(function(t){var n=t.getData("name"),s=e.indexOf(n)>=0;this.setLabelState(t,s)},this)},buildPanel:function(){this.elements.panel.addContent(l("div",{class:this.getClassNames("-content-head")+" nv-settings-flexcolumns"}).addContent(l("div",{class:this.getClassNames("-content-title"),text:_("Tab labels")}),l("div",{class:this.getClassNames("-content-desc")}).addContent(this.elements.nLabels=l("span",{class:this.getClassNames("-content-head-num")}),l("span",{class:"thin",text:_("(tabs without a label will always be displayed)")})),this.elements.clearBtn=l("div",{class:this.getClassNames("-content-head-clear"),text:_("Clear all labels")})),new n({element:l("div",{class:this.getClassNames("-content-labels")}).addContent(l("div",{class:this.getClassNames("-content-labels-in")}).addContent(l("div",{class:this.getClassNames("-content-desc")}).addContent(_("Select visible labels"),l("span",{class:"thin",text:_("(all tabs will be displayed if no label is selected)")})),this.elements.labels=l("ul")))})),this.elements.clearBtn.addEventListener("click",this.onClearLabelsClick.bind(this)),this.elements.labels.addEventListener("click",this.onLabelsClick.bind(this))},buildLabels:function(){var e,t,n=a.getAllLabels().sort(),i=[];return n.forEach(function(n){e!==n.charAt(0)&&(e=n.charAt(0),i.push([l("li",{class:"nv-settings-flexrows"}).addContent(l("div",{class:this.getClassNames("-content-labels-letter"),text:e}),t=l("div",{class:this.getClassNames("-content-labels-tags")}))]));var a=new s({value:n,className:"light-border-only"});a.getContent().setData("name",n),a.getContent().setData("isactive",!1),t.addContent(a)},this),i},setLabelState:function(e,t){e.setData("isactive",t),e.toggleClassName("active",t)},getActiveLabels:function(){var e=this.elements.labels.getElements(".uwa-tag"),t=[];return e.forEach(function(e){e.getData("isactive")&&t.push(e.getData("name"))}),t},onClearLabelsClick:function(){this.elements.labels.getElements(".uwa-tag").forEach(function(e){this.setLabelState(e,!1)},this),this.setData()},onLabelsClick:function(e){var n=t.findElement(e,".uwa-tag");if(n){var s=n.getData("isactive");this.setLabelState(n,!s);var i=this.getActiveLabels();this.setData(i)}}})}.apply(t,s))||(e.exports=i)},722:function(e,t,n){"use strict";var s,i;s=[n(1),n(25),n(3),n(23),n(58),n(2),n(152),n(41),n(723)],void 0===(i=function(e,t,n,s,i,a,o,l,r){var c=e.createElement;return o.extend({_selectedCountry:null,getData:function(){return this._selectedCountry},buildPanel:function(){this._continents=[{code:"eu",name:_("Europe")},{code:"na",name:_("North America")},{code:"sa",name:_("South America")},{code:"oc",name:_("Oceania")},{code:"as",name:_("Asia")},{code:"af",name:_("Africa")}],this.elements.panel.addContent(c("div",{class:this.getClassNames("-content-map")}).addContent(c("div",{class:this.getClassNames("-content-title"),text:_("Local content")}),this.elements.svg=c("div",{class:this.getClassNames("-content-map-svg")+" nv-settings-flexcolumns"}).addContent(this.mapSpinner=new l({autostart:!0,size:30,color:"#ffffff"}))),new s({element:c("div",{class:this.getClassNames("-content-countries")}).addContent(this.elements.countriesList=c("div",{class:this.getClassNames("-content-countries-list")})),shadows:!0})),this.elements.svg.addEventListener("click",this.onMapClicked.bind(this)),this.elements.countriesList.addEventListener("click",this.onCountryClicked.bind(this)),t.request(a.Config.urls.cdn+"/img/settings/worldmap.svg",{type:"xml",onComplete:this.onSvgMapLoaded.bind(this)})},initSVGMap:function(e){this.elements.svg.empty(),this.elements.svg.setHTML(e);var t=a.Globalization.userLocale||"us",n=n||this.getCountry(t).continent||"na";this.selectContinent(n,t)},selectContinent:function(e,t){t=t||this._selectedCountry;var n=this.getCountry(t).continent===e,s=this.elements.svg.getElement("g.active");s&&s.removeClassName("active"),this.elements.svg.getElement("g[data-area="+e+"]").addClassName("active"),this.elements.countriesList.empty(),this.elements.countriesList.addContent(this.buildCountriesList(e)),n&&this.selectCountry(t)},selectCountry:function(e){var t=this.elements.countriesList.getElement(".uwa-tag.active");t&&t.removeClassName("active"),this.elements.countriesList.getElement(".uwa-tag[data-code="+e+"]").addClassName("active"),this._selectedCountry=e},buildCountriesList:function(e){var t,n=this.getContinent(e).name,s=r.sort(this.sortCountries.bind(this)),a=[];return s.forEach(function(n){n.continent===e&&((t=new i({value:n.name,className:"light-border-only"})).getContent().set("data-code",n.code),a.push(t))}),[c("div",{class:this.getClassNames("-content-desc")+" "+this.getClassNames("-content-countries-list-title"),text:n}),a]},getContinent:function(e){return this._continents.detect(function(t){return t.code===e})},getCountry:function(e){return r.detect(function(t){return t.code===e})},sortCountries:function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},onSvgMapLoaded:function(e){e&&e.querySelector("svg")&&this.initSVGMap(e.querySelector("svg"))},onMapClicked:function(e){var t=n.findElement(e,"g");if(t){var s=t.getAttribute("data-area");this.selectContinent(s)}},onCountryClicked:function(e){var t=n.findElement(e,".uwa-tag");if(t){var s=t.getAttribute("data-code");this.selectCountry(s)}}})}.apply(t,s))||(e.exports=i)},723:function(e,t,n){"use strict";var s;void 0===(s=function(){return[{code:"al",continent:"eu",name:_("Albania")},{code:"at",continent:"eu",name:_("Austria")},{code:"pv",continent:"eu",name:_("Spain (Basque Country)")},{code:"bef",continent:"eu",name:_("Belgium (French)")},{code:"be",continent:"eu",name:_("Belgium (Dutch)")},{code:"ba",continent:"eu",name:_("Bosnia and Herzegovina")},{code:"bg",continent:"eu",name:_("Bulgaria")},{code:"by",continent:"eu",name:_("Belarus")},{code:"ct",continent:"eu",name:_("Spain (Catalonia)")},{code:"hr",continent:"eu",name:_("Croatia")},{code:"cy",continent:"eu",name:_("Cyprus")},{code:"cz",continent:"eu",name:_("Czech Republic")},{code:"ee",continent:"eu",name:_("Estonia")},{code:"fr",continent:"eu",name:_("France")},{code:"frA5",continent:"eu",name:_("France (Corse)")},{code:"fi",continent:"eu",name:_("Finland")},{code:"nlf",continent:"eu",name:_("Friesland")},{code:"de",continent:"eu",name:_("Germany")},{code:"dk",continent:"eu",name:_("Denmark")},{code:"ga",continent:"eu",name:_("Spain (Galicia)")},{code:"gr",continent:"eu",name:_("Greece")},{code:"gra",continent:"eu",name:_("Greece (Attica)")},{code:"hu",continent:"eu",name:_("Hungary")},{code:"it",continent:"eu",name:_("Italy")},{code:"ie",continent:"eu",name:_("Ireland")},{code:"is",continent:"eu",name:_("Iceland")},{code:"ko",continent:"eu",name:_("Kosovo")},{code:"lv",continent:"eu",name:_("Latvia")},{code:"lt",continent:"eu",name:_("Lithuania")},{code:"lu",continent:"eu",name:_("Luxembourg")},{code:"mt",continent:"eu",name:_("Malta")},{code:"nl",continent:"eu",name:_("Netherlands")},{code:"no",continent:"eu",name:_("Norway")},{code:"pl",continent:"eu",name:_("Poland")},{code:"pt",continent:"eu",name:_("Portugal")},{code:"ro",continent:"eu",name:_("Romania")},{code:"rs",continent:"eu",name:_("Serbia")},{code:"sk",continent:"eu",name:_("Slovakia")},{code:"si",continent:"eu",name:_("Slovenia")},{code:"es",continent:"eu",name:_("Spain")},{code:"se",continent:"eu",name:_("Sweden")},{code:"ch",continent:"eu",name:_("Switzerland")},{code:"chf",continent:"eu",name:_("Switzerland (French)")},{code:"tr",continent:"eu",name:_("Turkey")},{code:"ua",continent:"eu",name:_("Ukraine")},{code:"gb",continent:"eu",name:_("United Kingdom")},{code:"mk",continent:"eu",name:_("Macedonia")},{code:"fo",continent:"eu",name:_("Faroe Islands")},{code:"bz",continent:"na",name:_("Belize")},{code:"ca",continent:"na",name:_("Canada")},{code:"qc",continent:"na",name:_("Canada (Quebec)")},{code:"cr",continent:"na",name:_("Costa Rica")},{code:"cu",continent:"na",name:_("Cuba")},{code:"sv",continent:"na",name:_("El Salvador")},{code:"gt",continent:"na",name:_("Guatemala")},{code:"gy",continent:"na",name:_("Guyana")},{code:"hn",continent:"na",name:_("Honduras")},{code:"mx",continent:"na",name:_("Mexico")},{code:"ni",continent:"na",name:_("Nicaragua")},{code:"pa",continent:"na",name:_("Panama")},{code:"us",continent:"na",name:_("United States")},{code:"use",continent:"na",name:_("United States (Spanish)")},{code:"ar",continent:"sa",name:_("Argentina")},{code:"bo",continent:"sa",name:_("Bolivia")},{code:"br",continent:"sa",name:_("Brazil")},{code:"cl",continent:"sa",name:_("Chile")},{code:"co",continent:"sa",name:_("Colombia")},{code:"do",continent:"sa",name:_("Dominican Republic")},{code:"ec",continent:"sa",name:_("Ecuador")},{code:"fk",continent:"sa",name:_("Falkland Islands")},{code:"mv",continent:"sa",name:_("Maldives")},{code:"py",continent:"sa",name:_("Paraguay")},{code:"pe",continent:"sa",name:_("Peru")},{code:"sr",continent:"sa",name:_("Suriname")},{code:"uy",continent:"sa",name:_("Uruguay")},{code:"ve",continent:"sa",name:_("Venezuela")},{code:"dz",continent:"af",name:_("Algeria")},{code:"cm",continent:"af",name:_("Cameroon")},{code:"eg",continent:"af",name:_("Egypt")},{code:"et",continent:"af",name:_("Ethiopia")},{code:"ci",continent:"af",name:_("Cote d'Ivoire")},{code:"ke",continent:"af",name:_("Kenya")},{code:"ly",continent:"af",name:_("Libya")},{code:"mr",continent:"af",name:_("Mauritania")},{code:"ma",continent:"af",name:_("Morroco")},{code:"ng",continent:"af",name:_("Nigeria")},{code:"sn",continent:"af",name:_("Senegal")},{code:"so",continent:"af",name:_("Somalia")},{code:"za",continent:"af",name:_("South Africa")},{code:"tn",continent:"af",name:_("Tunisia")},{code:"ao",continent:"af",name:_("Angola")},{code:"bj",continent:"af",name:_("Benin")},{code:"bw",continent:"af",name:_("Botswana")},{code:"bf",continent:"af",name:_("Burkina faso")},{code:"bi",continent:"af",name:_("Burundi")},{code:"cv",continent:"af",name:_("Cape Verde")},{code:"cf",continent:"af",name:_("Central African Republic")},{code:"td",continent:"af",name:_("Chad")},{code:"km",continent:"af",name:_("Comoros")},{code:"cg",continent:"af",name:_("Congo-Brazzaville")},{code:"cd",continent:"af",name:_("Congo-Kinshasa")},{code:"dj",continent:"af",name:_("Djibouti")},{code:"gq",continent:"af",name:_("Equatorial Guinea")},{code:"er",continent:"af",name:_("Eritrea")},{code:"ga",continent:"af",name:_("Gabon")},{code:"gm",continent:"af",name:_("Gambia")},{code:"gh",continent:"af",name:_("Ghana")},{code:"gn",continent:"af",name:_("Guinea")},{code:"gw",continent:"af",name:_("Guinea-Bissau")},{code:"ls",continent:"af",name:_("Lesotho")},{code:"lr",continent:"af",name:_("Liberia")},{code:"mg",continent:"af",name:_("Madagascar")},{code:"mw",continent:"af",name:_("Malawi")},{code:"ml",continent:"af",name:_("Mali")},{code:"mu",continent:"af",name:_("Mauritius")},{code:"mz",continent:"af",name:_("Mozambique")},{code:"na",continent:"af",name:_("Namibia")},{code:"rw",continent:"af",name:_("Rwanda")},{code:"sl",continent:"af",name:_("Sierra Leone")},{code:"sd",continent:"af",name:_("Sudan")},{code:"sz",continent:"af",name:_("Swaziland")},{code:"tz",continent:"af",name:_("Tanzania")},{code:"tg",continent:"af",name:_("Togo")},{code:"ug",continent:"af",name:_("Uganda")},{code:"zm",continent:"af",name:_("Zambia")},{code:"zw",continent:"af",name:_("Zimbabwe")},{code:"re",continent:"af",name:_("Reunion Island")},{code:"au",continent:"oc",name:_("Australia")},{code:"nz",continent:"oc",name:_("New Zealand")},{code:"pf",continent:"oc",name:_("French Polynesia")},{code:"bh",continent:"as",name:_("Bahrain")},{code:"bd",continent:"as",name:_("Bangladesh")},{code:"cn",continent:"as",name:_("China")},{code:"hk",continent:"as",name:_("Hong Kong")},{code:"in",continent:"as",name:_("India")},{code:"id",continent:"as",name:_("Indonesia")},{code:"ir",continent:"as",name:_("Iran")},{code:"iq",continent:"as",name:_("Iraq")},{code:"il",continent:"as",name:_("Israel")},{code:"jp",continent:"as",name:_("Japan")},{code:"jo",continent:"as",name:_("Jordan")},{code:"kp",continent:"as",name:_("Korea (North)")},{code:"kr",continent:"as",name:_("Korea (South)")},{code:"kw",continent:"as",name:_("Kuwait")},{code:"lb",continent:"as",name:_("Lebanon")},{code:"om",continent:"as",name:_("Oman")},{code:"my",continent:"as",name:_("Malaysia")},{code:"mn",continent:"as",name:_("Mongolia")},{code:"pk",continent:"as",name:_("Pakistan")},{code:"ps",continent:"as",name:_("Palestine")},{code:"ph",continent:"as",name:_("Philippines")},{code:"qa",continent:"as",name:_("Qatar")},{code:"ru",continent:"as",name:_("Russia")},{code:"sa",continent:"as",name:_("Saudi Arabia")},{code:"sg",continent:"as",name:_("Singapore")},{code:"sy",continent:"as",name:_("Syria")},{code:"tw",continent:"as",name:_("Taiwan")},{code:"th",continent:"as",name:_("Thailand")},{code:"tr",continent:"as",name:_("Turkey")},{code:"ae",continent:"as",name:_("United Arab Emirates")},{code:"vn",continent:"as",name:_("Vietnam")},{code:"ye",continent:"as",name:_("Yemen")}]}.apply(t,[]))||(e.exports=s)},724:function(e,t,n){"use strict";var s,i;s=[n(1),n(3),n(23),n(58),n(2),n(152),n(6)],void 0===(i=function(e,t,n,s,i,a,o){var l=e.createElement;return a.extend({getData:function(){return this._selectedLanguage},buildPanel:function(){this._languages={},this.elements.panel.addContent(l("div",{class:this.getClassNames("-content-languages")+" nv-settings-flexcolumns"}).addContent(l("div",{class:this.getClassNames("-content-title"),text:_("Interface language")}),l("div",{class:this.getClassNames("-content-desc"),text:_("Select a language")}),new n({element:l("div",{class:this.getClassNames("-content-languages-list")}).addContent(this.elements.languagesList=l("ul")),shadows:!0})),new n({element:l("div",{class:this.getClassNames("-content-translation")}).addContent(l("div",{class:this.getClassNames("-content-desc"),text:_("Translation Info")}),this.elements.translations=l("div",{class:this.getClassNames("-content-translation-progress")}),l("div",{class:this.getClassNames("-content-translation-text")}).addContent(_("If you want to help providing localization for Netvibes, {0}you can join our translation network{1}.").format('<a href="'+i.Config.urls.translate+'" target="_blank">',"</a>"))),shadows:!0})),this.elements.languagesList.addEventListener("click",this.onLanguagesClicked.bind(this)),o.getLanguages().done(this.onLanguagesLoaded.bind(this))},buildLanguages:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&"?"!==n&&t.push(this.buildLetterGroup(n,e[n]));e["?"]&&t.push(this.buildLetterGroup("?",e["?"])),this.elements.languagesList.addContent(t);var s=i.Globalization.userLanguage;this.selectLanguage(s)},buildLetterGroup:function(e,t){e="?"===e?"":e;var n=t.map(this.buildLanguageTag,this);return l("li",{class:"nv-settings-flexrows"}).addContent(l("div",{class:this.getClassNames("-content-languages-letter"),text:e}),l("div",{class:this.getClassNames("-content-languages-tags")}).addContent(n))},buildLanguageTag:function(e){var t=new s({value:e.name,className:"light-border-only"});return t.getContent().set("data-code",e.code),this._languages[e.code]=e,t},selectLanguage:function(e){var t=this.elements.languagesList.getElement(".uwa-tag.active");t&&t.removeClassName("active"),this.elements.languagesList.getElement(".uwa-tag[data-code="+e+"]").addClassName("active"),this.displayTranslationData(e),this._selectedLanguage=e},displayTranslationData:function(e){var t=this._languages[e];this.elements.translations.empty(),this.elements.translations.addContent(l("div",{class:this.getClassNames("-content-translation-progress-name"),text:t.name+" "+t.progress+"%"}),l("progress",{max:"100",value:t.progress}))},onLanguagesLoaded:function(e){e.result&&this.buildLanguages(e.result)},onLanguagesClicked:function(e){var n=t.findElement(e,".uwa-tag");if(n){var s=n.getAttribute("data-code");this.selectLanguage(s)}}})}.apply(t,s))||(e.exports=i)},725:function(e,t,n){"use strict";var s,i;s=[n(1),n(23),n(726),n(152)],void 0===(i=function(e,t,n,s){var i=e.createElement;return s.extend({buildPanel:function(){this.elements.panel.addContent(i("div",{class:this.getClassNames("-content-title"),text:_("Customize theme")}),new t({element:i("div",{class:this.getClassNames("-content-customizer")}).addContent(this.elements.customizer=i("div",{class:this.getClassNames("-content-customizer-content")})),shadows:!0}))},injectData:function(){this.elements.customizer.setContent(new n)}})}.apply(t,s))||(e.exports=i)},726:function(e,t,n){"use strict";var s,i;s=[n(1),n(3),n(10),n(8),n(124),n(376),n(26),n(175),n(45),n(377)],void 0===(i=function(e,t,n,s,i,a,o,l,r,c){var d=e.createElement;return n.extend({name:"nv-settings-themecustomizer",init:function(e){this._parent(e),this.elements.container||this.buildSkeletton(),this.displayPanel()},buildSkeletton:function(){this.headerElements={},this.bottomElements={},this.elements.container=d("div",{class:this.getClassNames()+" nv-settings-flexcolumns"}).addContent(this.elements.labels=d("div",{class:this.getClassNames("-labels")}).addContent(this.elements.headerLabel=d("div",{class:this.getClassNames("-labels-item"),text:_("Header")}).setData("panel","header"),this.elements.bottomLabel=d("div",{class:this.getClassNames("-labels-item"),text:_("Bottom")}).setData("panel","bottom")),d("div",{class:this.getClassNames("-content")}).addContent(this.elements.headerPanel=this.buildPanel("header"),this.elements.bottomPanel=this.buildPanel("bottom"))),this.injectData(),this.attachEvents(),this.isBuilt=!0},injectData:function(){var e=r.get("headerColor");e?"transparent"===e?this.headerElements.colorTransparent.check():(this.headerElements.colorSelect.check(),this.headerElements.colorSelector.setValue(e)):this.headerElements.colorDefault.check();var t=r.get("headerTextColor");t?(this.headerElements.textColorSelect.check(),this.headerElements.textColorSelector.setValue(t)):this.headerElements.textColorDefault.check(),this.headerElements.picture&&this.headerElements.picture.setValue(r.get("headerBackground"));var n=r.get("headerHeight")||0;this.headerElements.heightSlider.setValue(n);var s=r.get("headerCenter")?"center":"tile";this.headerElements.displayMode.setValue(s);var i=r.get("headerAlignment")||"center";this.headerElements.alignment.setValue(i);var a=r.get("bodyColor");a?"transparent"===a?this.bottomElements.colorTransparent.check():(this.bottomElements.colorSelect.check(),this.bottomElements.colorSelector.setValue(a)):this.bottomElements.colorDefault.check(),this.bottomElements.picture&&this.bottomElements.picture.setValue(r.get("bodyBackground"));var o=r.get("bodyCenter")?"center":"tile";this.bottomElements.displayMode.setValue(o);var l=!!r.get("bodyFixed");this.bottomElements.bodyFixed.check(l)},setData:function(){if(this.isBuilt){this.headerElements.picture&&r.set("headerBackground",this.headerElements.picture.getValue()),this.bottomElements.picture&&r.set("bodyBackground",this.bottomElements.picture.getValue());var e=this.elements.headerPanel.getElement(".background input[type=radio]:checked"),t="";e&&"transparent"===e.value?t="transparent":e&&"selector"===e.value&&(t="#"+this.headerElements.colorSelector.getValue()),r.set("headerColor",t);var n=this.elements.headerPanel.getElement(".text input[type=radio]:checked"),s="";n&&(s="selector"===(s=n.value)?"#"+this.headerElements.textColorSelector.getValue():""),r.set("headerTextColor",s);var i=this.elements.headerPanel.getElement(".height .scrubber").getSize().width||100,a=this.elements.headerPanel.getElement(".height .progress").getSize().width||0,o=parseInt(100*a/i,10);r.set("headerHeight",parseInt(o));var c=this.headerElements.displayMode.getValue()[0];r.set("headerCenter","center"===c),r.set("headerAlignment",this.headerElements.alignment.getValue()[0]);var d=this.elements.bottomPanel.getElement(".background input[type=radio]:checked"),u="";d&&"transparent"===d.value?u="transparent":d&&"selector"===d.value&&(u="#"+this.bottomElements.colorSelector.getValue()),r.set("bodyColor",u);var h=this.bottomElements.displayMode.getValue()[0];r.set("bodyCenter","center"===h),r.set("bodyFixed",this.bottomElements.bodyFixed.isChecked()),r.save(),l.refresh()}},buildPanel:function(e){return d("div",{class:this.getClassNames("-content-panel")+" "+e}).addContent(this.options.hidePicture?"":this.buildPictureSelector(e),this.buildBackgroundColorSelector(e),"header"===e?this.buildTextColorSelector():"","header"===e?this.buildHeaderHeightSelector():"",this.buildDisplaySelector(e))},attachEvents:function(){this.elements.labels.addEventListener("click",this.onLabelsClick.bind(this)),this.elements.container.getElements(".uwa-radio-input").invoke("addEventListener","change",this.setData.bind(this))},buildPictureSelector:function(e){var t="header"===e?this.headerElements:this.bottomElements;return d("div",{class:this.getClassNames("-content-panel-field")+" picture"}).addContent(d("label",{for:"picture",text:_("Add a {0} picture (link url)").format(e)}),t.picture=new c({attributes:{id:"picture"},placeHolder:_("topic or image URL"),events:{onSaveReady:this.setData.bind(this)}}),d("button",{class:this.getClassNames("-content-panel-field-plus")+" nv-settings-btn uwa-icon","data-icon":"3",events:{click:this.setData.bind(this)}}))},buildBackgroundColorSelector:function(e){var t="header"===e,n=t?"headerColor":"bodyColor",s=t?this.headerElements:this.bottomElements;return d("div",{class:this.getClassNames("-content-panel-field")+" background"}).addContent(d("label",{for:n+"-selector",text:_("Or background color")}),d("div",{class:this.getClassNames("-content-panel-field-in")}).addContent(d("div",{class:this.getClassNames("-content-panel-field-color")}).addContent(s.colorSelect=this.buildRadioSelector(n,"selector"),s.colorSelector=new i({events:{onChange:this.onColorSelected.bind(this)}})),d("div",{class:this.getClassNames("-content-panel-field-in")}).addContent(s.colorDefault=this.buildRadioSelector(n,"default"),d("label",{for:n+"-default",text:_("Default")})),d("div",{class:this.getClassNames("-content-panel-field-in")}).addContent(s.colorTransparent=this.buildRadioSelector(n,"transparent"),d("label",{for:n+"-transparent",text:_("Transparent")}))))},buildTextColorSelector:function(){return d("div",{class:this.getClassNames("-content-panel-field")+" text"}).addContent(d("label",{for:"textColor-selector",text:_("Text color")}),d("div",{class:this.getClassNames("-content-panel-field-in")}).addContent(d("div",{class:this.getClassNames("-content-panel-field-color")}).addContent(this.headerElements.textColorSelect=this.buildRadioSelector("headerTextColor","selector"),this.headerElements.textColorSelector=new i({events:{onChange:this.onColorSelected.bind(this)}})),d("div").addContent(this.headerElements.textColorDefault=this.buildRadioSelector("headerTextColor","default"),d("label",{for:"textColor-default",text:_("Default")}))))},buildHeaderHeightSelector:function(){return d("div",{class:this.getClassNames("-content-panel-field")+" height"}).addContent(d("label",{for:"textPicker",text:_("Header height")}),this.headerElements.heightSlider=new a({handleButton:!0,events:{onChange:this.setData.bind(this)}}))},buildDisplaySelector:function(e){var t="header"===e?this.headerElements:this.bottomElements,n=d("div",{class:this.getClassNames("-content-panel-field-in")+" display"}).addContent(d("label",{for:"alignment",text:_("Alignment")}),t.alignment=new s.Select({options:[{value:"top",label:_("top")},{value:"center",label:_("middle")},{value:"bottom",label:_("bottom")}],events:{onChange:this.setData.bind(this)}})),i=d("div",{class:this.getClassNames("-content-panel-field-in")}).addContent(t.bodyFixed=new s.Checkbox({attributes:{id:"bodyFixed"},className:"green",events:{onChange:this.setData.bind(this)}}),d("label",{for:"bodyFixed",text:_("Fixed wallpaper")}));return d("div",{class:this.getClassNames("-content-panel-field")+" display"}).addContent(d("label",{for:"displayMode",text:_("Display mode")}),d("div",{class:this.getClassNames("-content-panel-field-in")}).addContent(t.displayMode=new s.Select({options:[{value:"center",label:_("center")},{value:"tile",label:_("tile")}],events:{onChange:this.setData.bind(this)}})),"header"===e?n:"","bottom"===e?i:"")},buildRadioSelector:function(e,t){var n=e+"-"+t;return new s.Radio({attributes:{name:e,id:n,value:t},className:"green"})},displayPanel:function(e){if(e=e||"header",[this.elements.headerLabel,this.elements.bottomLabel].invoke("removeClassName","active"),this.elements[e+"Label"].addClassName("active"),this.currentPanelId){var t=function(){this.openPanel(e)}.bind(this);this.closePanel(this.currentPanelId,t)}else this.openPanel(e)},closePanel:function(e,t){var n=this.elements[e+"Panel"];new o(n,{duration:250,transition:"quadInOut",events:{onComplete:function(){n.setStyle("display","none"),t()}}}).start({opacity:0})},openPanel:function(e){this.currentPanelId=e;var t=this.elements[e+"Panel"];t.setStyles({display:"flex",opacity:"0"}),new o(t,{duration:200,transition:"quadOut"}).start({opacity:1})},onLabelsClick:function(e){var n=t.findElement(e,".nv-settings-themecustomizer-labels-item");n&&this.displayPanel(n.getData("panel"))},onColorSelected:function(e){var n=t.getElement(e).getParent(".nv-settings-themecustomizer-content-panel-field-color").getElement(".uwa-radio input").getAttribute("name");"headerColor"===n?this.headerElements.colorSelect.check():"headerTextColor"===n?this.headerElements.textColorSelect.check():"bodyColor"===n&&this.bottomElements.colorSelect.check(),this.setData()}})}.apply(t,s))||(e.exports=i)},727:function(e,t,n){"use strict";var s,i;s=[n(1),n(3),n(23),n(45),n(175),n(41),n(152)],void 0===(i=function(e,t,n,s,i,a,o){var l=e.createElement;return o.extend({themes:[{value:"netvibes",label:"Netvibes"},{value:"natsu",label:"Natsu"},{value:"blackmamba",label:"Blackmamba"},{value:"wasabi",label:"Wasabi"},{value:"classic",label:"Classic"},{value:"yellow",label:"Tonic Yellow"},{value:"halloween",label:"Halloween"},{value:"pink",label:"Tonic Pink"},{value:"green",label:"Tonic Green"},{value:"orange",label:"Tonic Orange"},{value:"silver",label:"Tonic Silver"},{value:"tonic",label:"Tonic Blue"},{value:"coriander",label:"Coriander"},{value:"plain",label:"Winter Plain"},{value:"veerle",label:"Veerle"},{value:"darkvibes",label:"Darkvibes"},{value:"fresh",label:"Fresh"},{value:"fluo",label:"Fluo"},{value:"exposition-raspberry",label:"Exposition Raspberry"},{value:"ginger",label:"Ginger"}],setData:function(e){this.themeUrl=e,i.switchTo(e)},getData:function(){return this.themeUrl},hasChanged:function(){return this.getData()&&this.getData()!==s.get("themeUrl")},buildPanel:function(){this.elements.panel.addContent(l("div",{class:this.getClassNames("-content-head")}).addContent(l("div",{class:this.getClassNames("-content-title"),text:_("Themes")})),l("div",{class:this.getClassNames("-content-themes")+" nv-settings-flexcolumns"}).addContent(this.scroller=new n({element:this.elements.themesListContainer=l("div",{class:this.getClassNames("-content-themes-list")}).addContent(this.elements.themesList=l("ul"),l("div",{class:"default-spinner"}).addContent(this.elements.spinner=new a({autostart:!1,size:30,color:"#ffffff",delay:500})),l("div",{class:"lazy-spinner"}).addContent(this.elements.lazySpinner=new a({autostart:!1,size:30,color:"#ffffff",delay:100}))),shadows:!0}))),this.weakmap=new WeakMap,this.addEvents()},addEvents:function(){this.elements.themesList.addEventListener("click",this.onThemeClick.bind(this))},loadThemes:function(e){e&&this.elements.themesList.empty();var t=i.getTitle(),n=this.themes.map(function(e){var n=t.toLowerCase()===e.label.toLowerCase(),s=l("li",{class:this.getClassNames("-content-themes-list-item")+(n?" selected":""),alt:e.label,styles:{display:"none"}}).addContent(l("img",{src:"/img/themes/"+e.value+".png"}),l("span",{text:e.label}));return this.weakmap.set(s,e),s},this);this.elements.themesList.addContent(n),window.setTimeout(function(){n.invoke("setStyle","display","")},100)},sortByLabel:function(e,t){return e.label<t.label?-1:e.label>t.label?1:0},onOpen:function(){this.isOpen=!0,this.loadThemes(!0)},onClose:function(){this.isOpen=!1,this.elements.themesList.empty()},onThemeClick:function(e){var n=t.findElement(e,".nv-settings-panels-view-content-themes-list-item"),s="/themes/"+this.weakmap.get(n).value+"/screen.css",i=this.elements.themesList.getElement("li.selected");i&&i.removeClassName("selected"),n.addClassName("selected"),this.setData(s)}})}.apply(t,s))||(e.exports=i)},740:function(e,t,n){"use strict";var s;void 0===(s=function(){var e,t=null,n={x:0,y:0},s=!1;function i(){s=!1,document.body.removeClassName("is-scrolling"),clearTimeout(e)}function a(){window.addEventListener("scroll",o),setTimeout(function(){window.removeEventListener("scroll",o)},1e3)}function o(){s||(s=!0,t=n,document.body.addClassName("is-scrolling")),clearTimeout(e),e=setTimeout(i,1e3)}function l(e){(n={x:e.clientX,y:e.clientY},s)&&(Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))>50&&i())}return{init:function(){window.addEventListener("mousewheel",a),window.addEventListener("mousemove",l)}}}.apply(t,[]))||(e.exports=s)},741:function(e,t,n){"use strict";var s,i;s=[n(57),n(215),n(21),n(173)],void 0===(i=function(e,t,n,s){return e.singleton({minWidth:140,columnsList:document.body.getElements("#modulesArea > #columns > .column"),init:function(e){this._parent(e),this.options.root.addEvent("dblclick .gripper",this.onDblClick.bind(this))},start:function(e){this._parent(e);var t=this.target,n=parseInt(t.id.match(/gripper-\d(\d)/)[1],10),s=[n-2,n-1],i=s.map(function(e){return{index:e,el:this.columnsList[e],baseWidth:this.columnsList[e].getSize().width}},this);this.resizeInfos={startX:e.x,gripper:t,gripperNum:n,indexes:s,columns:i},t.addClassName("selected")},cancel:function(){this._parent(),this.resetValues()},move:function(e,t){this._parent(e,t);var n=this.resizeInfos.columns,s=n[0].baseWidth+t.x,i=n[1].baseWidth-t.x;s<=this.minWidth||i<=this.minWidth?this.resizeInfos.gripper.addClassName("max"):(n[0].el.setStyle("width",s),n[0].newWidth=s,n[1].el.setStyle("width",i),n[1].newWidth=i,this.resizeInfos.gripper.removeClassName("max"))},stop:function(){this._parent();var e=this.columnsList.map(function(e){return e.getSize().width}),i=n.getFocused().dataObj.columnSizes=s.px2percent(e);t.set("columnSizes",i),t.updateLayout(),t.saveLayout(),this.resetValues()},resetValues:function(){this.resizeInfos.gripper.removeClassName("max"),this.resizeInfos.gripper.removeClassName("selected"),this.resizeInfos=null},onDblClick:function(){t.resetLayout(),t.saveLayout()}})}.apply(t,s))||(e.exports=i)},742:function(e,t,n){"use strict";var s,i;s=[n(1),n(9),n(3),n(18),n(39),n(22),n(26),n(138),n(4)],void 0===(i=function(e,t,n,s,i,a,o,l,r){return t.extend(i,a,{options:{id:"",target:null,autoclose:null,closable:!0,position:null,constraintSize:{x:300,y:null},content:"",isPointer:!1,additionalClasses:"",overlay:!1,observeResize:!0},init:function(e){return this.setOptions(e),this._isHidden=!0,this.buildUI(),this.setContent(this.options.content),this.setConstraintSize(),this.UI.container.inject(document.body,"top"),this.options.overlay&&(this.overlay=new l({className:"nv-balloon-overlay",opacity:1,hideOnClick:!1})),this},buildUI:function(){if(this.UI={},this.UI.container=e.createElement("div",{class:"nv-balloon "+this.options.additionalClasses,opacity:0}).addEvent("click",this.dispatchEvent.bind(this,"onClick")),this.options.id&&(this.UI.container.id=this.options.id),this.options.isPointer){var t=!1;"bottom"===this.options.isPointer&&(t=!0),this.UI.pointer=e.createElement("div",{class:t?"nv-balloon-bottomPointer":"nv-balloon-topPointer"}).inject(this.UI.container),this.UI.container.setStyle(t?"margin-bottom":"margin-top",11)}this.UI.element=e.createElement("div",{class:"nv-balloon-box"}).inject(this.UI.container),this.options.closable&&(this.UI.close=r.createCloseIcon("balloon","nv-balloon-close autoclear").addEvent("click",this.close.bind(this)).inject(this.UI.element)),this.UI.header=e.createElement("div",{class:"nv-balloon-header"}).inject(this.UI.element),this.UI.body=e.createElement("div",{class:"nv-balloon-body"}).inject(this.UI.element),this.UI.footer=e.createElement("div",{class:"nv-balloon-footer"}).inject(this.UI.element)},setConstraintSize:function(){this.options.constraintSize&&(this.options.constraintSize.x&&this.UI.container.setStyle("width",this.options.constraintSize.x),this.options.constraintSize.y&&this.UI.container.setStyle("height",this.options.constraintSize.y))},computePosition:function(){var t,n,i,a,o=s.getSize(),l=s.getScrolls(),r=this.UI.container.getSize();if(e.is(this.options.target,"string")){var c=document.body.getElement(this.options.target);this.target=c.detect(function(e){var t=e.getSize();return t.x&&t.y})}else this.target=this.options.target;if(this.UI.pointer&&this.UI.pointer.setStyle("left",r.width/2),this.target||this.options.isPointer){if(this.options.position)t={bottom:this.options.position.y,height:1,left:this.options.position.x,right:this.options.position.x+1,top:this.options.position.y+1,width:1};else{if(!this.target)return!1;var d=this.target.getOffsets(),u=this.target.getSize();t={top:d.y,bottom:d.y+u.height,left:d.x,width:u.width}}n="bottom"===this.options.isPointer?t.top-r.height-11:t.bottom,this.UI.container.setStyle("top",n),this.UI.container.setStyle("left",t.left+t.width/2-r.width/2);var h=this.UI.container.getOffsets().x,m=h+this.UI.container.getSize().width;(i=o.width+l.x-(m+10))<0&&(this.UI.container.setStyle("left","auto"),this.UI.container.setStyle("right",10),this.UI.pointer&&this.UI.pointer.setStyle("left",r.width/2-i)),(a=l.x+(h-10))<0&&(this.UI.container.setStyle("left",10),this.UI.container.setStyle("right","auto"),this.UI.pointer&&this.UI.pointer.setStyle("left",r.width/2+a))}else this.options.position&&(this.options.position.x&&("center"===this.options.position.x?this.UI.container.setStyle("left",(o.width-r.width)/2+l.x):this.UI.container.setStyle("left",parseInt(this.options.position.x,10))),this.options.position.y&&("center"===this.options.position.y?this.UI.container.setStyle("top",(o.height-r.height)/2+l.y):this.UI.container.setStyle("top",parseInt(this.options.position.y,10))));return!0},show:function(){return!this._isHidden||(this.addEventOnce("onShow",function(){var e;(e=this.UI.body.getElement('input[type="text"]'))&&e.focus()}.bind(this)),!!this.computePosition()&&(this.overlay&&"none"===this.overlay.elm.style.display&&this.overlay.show(),new o(this.UI.container,{events:{onComplete:function(){this.dispatchEvent("onShow")}.bind(this)}}).start({opacity:1}),this._isHidden=!1,this.options.autoclose&&(this.timer=setTimeout(this.close.bind(this),parseInt(this.options.autoclose,10))),this.windowListener=this.computePosition.bind(this),this.options.observeResize&&window.addEventListener("resize",this.windowListener),!0))},close:function(e){e&&n.stop(e),this.hide(),this.overlay&&this.overlay.hide(),this.dispatchEvent("onClose")},hide:function(e){this._isHidden||(e&&n.stop(e),clearTimeout(this.timer),new o(this.UI.container,{events:{onComplete:function(){this.UI.container.hide(),this.dispatchEvent("onHide")}.bind(this)}}).start({opacity:0}),this._isHidden=!0,window.removeEventListener("resize",this.windowListener))},destroy:function(){this.UI.container.destroy(),this.dispatchEvent("onDestroy")},setContent:function(e){this.UI.body.empty(),this.addContent(e)},addContent:function(t){e.is(t,"element")?t.inject(this.UI.body):e.createElement("div",{html:t}).inject(this.UI.body)},addFooterButton:function(t,n,s){var i=e.createElement("a",{href:"#",html:'<span class="button-inner">'+t+"</span>"}).addEvent("click",s.bind(this));n?i.addClassName(n):i.addClassName("button button-medium"),i.inject(this.UI.footer)}})}.apply(t,s))||(e.exports=i)},749:function(e,t,n){"use strict";var s,i;s=[n(1),n(9),n(8),n(2),n(4),n(6),n(27),n(151),n(384)],void 0===(i=function(e,t,n,s,i,a,o,l,r){var c=e.createElement,d=t.singleton({launch:function(){if(s.User&&s.Page&&s.Page.userId===s.User.id)return d.lookForNewMessages()},lookForNewMessages:function(){return a.announcement({npdId:s.NPD&&1!=+s.NPD.productThreshold?s.NPD.id:null}).done(function(e){if(0===e.length)return!1;d.buildMessage(e[0])},function(e){o.displayError(e)})},buildMessage:function(e){l.messageWithID(e.id,function(t){var s=r.open({title:e.title,image:e.image?i.getStaticUrl(e.image):"",body:c("p",{html:e.message}),buttons:[e.secondaryText?c("span",{class:"link",text:e.secondaryText,events:{click:function(){e.secondaryAction?window.open(e.secondaryUrl,"_blank"):s.close()}}}):"",e.primaryText?new n.Button({value:e.primaryText,className:"medium green",events:{onClick:function(){e.primaryAction?window.open(e.primaryUrl,"_blank"):s.close()}}}):""]});s.addEvent("onClose",function(){t()})})}});return d}.apply(t,s))||(e.exports=i)},750:function(e,t,n){"use strict";var s,i;s=[n(1),n(9),n(60),n(8),n(2),n(44),n(4),n(45),n(151),n(384),n(177)],void 0===(i=function(e,t,n,s,i,a,o,l,r,c,d){var u=e.createElement,h=t.singleton({launch:function(){return!h.lookForNewMessages()},lookForNewMessages:function(){var e=i.getProduct({type:"TYPE_AGENCY"});if(i.Page.isPublic||!e)return!0;var t=e.status,n=i.getWelcomeURL("premium"),s=i.NPD.wizardryConfig?i.NPD.wizardryConfig.type:"index",a=i.getWelcomeURL("contact-us")+"?referer=wizardry"+(s?"-"+s:""),o=e.status&&i.NPD,r=i.Page.isNpdPrimaryPage&&!i.User.isPremium;if(o&&"STATUS_TRIAL_2"===t&&!l.get("wizardryTrialTwoDisplayed"))this.displayDay2Modal(n),l.set("wizardryTrialTwoDisplayed",!0).save();else if(o&&"STATUS_TRIAL_7"===t&&!l.get("wizardryTrialSevenDisplayed"))this.displayDay7Modal(n,a),l.set("wizardryTrialSevenDisplayed",!0).save();else if(o&&"STATUS_LAST_DAYS"===t&&!l.get("wizardryLastDaysDisplayed"))this.displayLastDaysModal(a,e),l.set("wizardryLastDaysDisplayed",!0).save();else{if(!r||"STATUS_FINISHED"!==t){if(d.isTrialAvailable()){var c=i.Config.urls.startpage+"/dashboard?wizardry="+s;return!this.displayUncompletedTrialModal(c)}return!0}this.displayEndTrialModal(a)}},displayDay2Modal:function(e){c.open({title:_("Agency Wizardry"),buttons:_("Got it!"),image:o.getStaticUrl("/img/announcements/wizardry_day2.png"),body:[u("p").addContent(_("Because it's Day 2 of your free trial, {0}we wanted to share some tips{1}.").format("<b>","</b>")),u("br"),u("ul").addContent(u("li").addContent(_("{0}Search for articles{1} on any topic by using the search bar at the top of your dashboard.").format("<b>","</b>")),u("li").addContent(_("{0}Compare any two datasets{1} by dragging-and-dropping the charts together.").format("<b>","</b>")),u("li").addContent(_("{0}Discover all the features{1} of {2}Netvibes Premium{3}.").format("<b>","</b>",'<a href="'+e+'" target="_blank">',"</a>")))]})},displayDay7Modal:function(e,t){c.open({title:_("Agency Wizardry"),buttons:_("Got it!"),image:o.getStaticUrl("/img/announcements/wizardry_day7.png"),body:[u("p").addContent(_("You still have {0}7 days to go{1} in your free tial.").format("<b>","</b>")),u("br"),u("p").addContent(_("Be sure to explore all the features of {0}Netvibes Premium{1}.").format('<a href="'+e+'" target="_blank">',"</a>")),u("br"),u("p").addContent(_("If you decide to keep Netvibes (and we hope you will!), you can {0}upgrade your dashboard{1} anytime.").format('<a href="'+t+'" target="_blank">',"</a>")),u("br")]})},displayLastDaysModal:function(e,t){var s=new Date(1e3*t.endDate),i=n.strftime(s,"%Y-%m-%d"),l=Math.abs(a.countBetweenDates(s,new Date,"day"));c.open({title:_("Agency Wizardry"),buttons:_("Got it!"),image:o.getStaticUrl("/img/announcements/wizardry_day12.png"),body:[u("p").addContent(u("b").addContent(_("Your free trial expires in {0} days.").format(l))),u("br"),u("p").addContent(_("After {0}, {1}your Premium dashboard will no longer be {2}available{3}. But the adventure doesn't have to end!").format(i,"<b>","<br />","</b>")),u("br"),u("p").addContent(_("{0}Contact us{1} today to become a Netvibes Premium subscriber.").format('<a href="'+e+'" target="_blank">',"</a>")),u("br")]})},displayEndTrialModal:function(t){var n=this.getBasicDashboardUrl();c.open({closeable:!1,title:_("Agency Wizardry"),image:o.getStaticUrl("/img/announcements/wizardry_end_trial.png"),body:[u("p").addContent(u("b").addContent(_("End of Free Trial."))),u("br"),u("p").addContent(_("Thanks for trying Netvibes Premium. Your free trial has ended. {0}But it's not too late!").format("<br />")),u("br")],buttons:[n?e.createElement("a",{text:_("Return to your Basic dashboard"),href:n}):"",new s.Button({value:_("Reactivate your Premium dashboard"),className:"medium green",events:{onClick:function(){window.open(t,"_blank")}}})]})},displayUncompletedTrialModal:function(e){var t="fr"===i.Globalization.shortLanguage?"fr":"en";return r.messageWithID("wizardryUncompletedTrialModal",function(n){c.open({closeable:!1,title:_("Agency Wizardry"),image:o.getStaticUrl("/img/announcements/wizardry_uncompleted_trial_"+t+".png"),body:[u("p",{text:_("Let's finish setting up your dashboard!")}),u("br"),u("br")],buttons:[u("span",{class:"link",text:_("I don't want Agency Wizardry"),events:{click:function(){n().then(function(){document.location.reload()}).done()}}}),new s.Button({value:_("Finish now"),className:"medium green",events:{onClick:function(){window.location=e}}})]})})},getBasicDashboardUrl:function(){var e=i.User.listOfPages.detect(function(e){return e.pageId!==i.Page.id});return!!e&&e.url}});return h}.apply(t,s))||(e.exports=i)},751:function(e,t,n){"use strict";var s,i;s=[n(1),n(111),n(385)],void 0===(i=function(e,t,n){var s,i=!1,a="emailUsDialog",o={};return{show:function(){if(i)return!1;(s=document.body.getElement("#"+a))||(s=e.createElement("div",{id:a}).inject(document.body)),o.core=e.createElement("div",{class:"emailUs-core box"}).inject(s),o.footer=e.createElement("div",{class:"emailUs-footer box"}).inject(s),function(){i=!0;var e=new n({lightTheme:!0});e.build({buildBtns:!1}).inject(o.core),e.getButtons().forEach(function(e){e.inject(o.footer)}),e.addEvent("onSubmitSuccess",function(){setTimeout(function(){t.close()},2e3)}),o.form=e,t.open(s,{contentTitle:_("Contact Us"),iconTitle:"(",classWindow:"emailUsWindow",fullscreen:!0,destroy:!1,onClose:function(){i=!1}})}()}}}.apply(t,s))||(e.exports=i)},752:function(e,t,n){"use strict";var s,i;s=[n(2),n(232),n(305)],void 0===(i=function(e,t,n){return{launch:function(){if(!e.Page.isPublic){var s=t.get("gobCount.demoWizard");if(!(s>0)){if(!e.NPD||!(e.NPD.productThreshold>1||"TYPE_TRIAL_VIP_SIGNUP"===e.getActiveProduct().lifeCycleType))return function(e){var s=[{highlightMode:"canvas",highlights:[document.body.getElement("#top")],actions:[{number:1,title:_("Add"),content:_("Enrich your dashboard with the add panel, build new applications, potions and analysis..."),anchor:document.body.getElement(".topbar-addcontent"),className:"ingredients",width:280,margin:"0px 0px 0px 70px",textMargin:"30px 0 0 50px",textPadding:"30px",arrow:{height:150,rotate:-30,side:"left"}}]},{highlightMode:"canvas",highlights:[document.body.getElement("#top")],actions:[{number:2,title:_("App or Reader view"),content:_("Toggle to the Reader view for an optimized reading experience or stay on the current App view for a greater overview of your content."),anchor:document.body.getElement(".topbar .topbar-switch"),className:"ingredients",width:280,textPadding:"30px",arrow:{height:100,rotate:0,side:"right"}}]},{highlightMode:"canvas",highlights:[document.body.getElement("#top")],actions:[{number:3,title:_("Settings and Account"),content:_("Change your dashboard language, customize its theme. Create more dashboards. Update or view your personal information, etc."),anchor:document.body.getElement(".topbar-right"),className:"ingredients",width:280,margin:"0 0 0 0",textPadding:"30px",textMargin:"30px 0 0 -50px",arrow:{height:150,rotate:30,side:"right"}}]}],i=new n({steps:s});i.addEvent("onCloseGob",function(){t.set("gobCount.demoWizard",e+1).save()}),document.body.addContent(i.toElement())}(s),!0;t.set("gobCount.demoWizard",s+1).save()}}}}}.apply(t,s))||(e.exports=i)},753:function(e,t,n){"use strict";var s,i;s=[n(1),n(9),n(2),n(79),n(754),n(35),n(4)],void 0===(i=function(e,t,n,s,i,a,o){var l=t.singleton({init:function(){this.modal=new s({className:"nv-wizi-modal",transition:"fade",size:{width:"full",height:"full"},closeable:!1,displayCloseButton:!1,scrollingOverlay:!0}),document.body.addContent(this.modal)},open:function(){this.modal.setContent(new i({onClose:this.onClose.bind(this)})),this.modal.open(),a.log("wizardry-individual","open"),this.modal.addEvent("onScroll",o.debounce(function(){a.log("wizardry-individual","scroll")},500))},onClose:function(){this.modal.close()}});return{launchIfNeeded:function(){if(n.getProduct({lifeCycleType:"TYPE_WIZARDRY_BASIC"})&&n.isAllowed("wizardry"))return l.init(),l.open(),!0}}}.apply(t,s))||(e.exports=i)},754:function(e,t,n){"use strict";var s,i;s=[n(1),n(6),n(35),n(0),n(5),n(11),n(387),n(756)],void 0===(i=function(e,t,n,s,i,a,o,l){var r=s.h;return i.extend({name:"nv-wizi",init:function(e){this._parent(e),this._tempKeyword=null,this.state={selectedViewName:e&&e.viewName||l.getDefaultViewName(),opmlFiles:[],selectedTopics:[],keywords:[],popularKeywords:[]},this.onTopicsChange=this.onTopicsChange.bind(this),this.onAddOPML=this.onAddOPML.bind(this),this.onRemoveOPML=this.onRemoveOPML.bind(this),this.onNextClick=this.onNextClick.bind(this),this.onResetIndexClick=this.onResetIndexClick.bind(this),this.onResetKeywordsClick=this.onResetKeywordsClick.bind(this),this.onDashboardClick=this.onDashboardClick.bind(this),this.onAddKeyword=this.onAddKeyword.bind(this),this.onRemoveKeyword=this.onRemoveKeyword.bind(this),this.onTemporaryKeywordChange=this.onTemporaryKeywordChange.bind(this),this.onTogglePopularKeyword=this.onTogglePopularKeyword.bind(this)},render:function(e,t){var n=l.getViewByName(t.selectedViewName),s={onAddOPML:this.onAddOPML,onRemoveOPML:this.onRemoveOPML,onTopicsChange:this.onTopicsChange,onNextClick:this.onNextClick,onResetIndexClick:this.onResetIndexClick,onResetKeywordsClick:this.onResetKeywordsClick,onDashboardClick:this.onDashboardClick,onClose:e.onClose,selectedTopics:t.selectedTopics,opmlFiles:t.opmlFiles,keywords:t.keywords,popularKeywords:t.popularKeywords,isApplyingConfig:t.isApplyingConfig,errorMessage:t.errorMessage,onAddKeyword:this.onAddKeyword,onRemoveKeyword:this.onRemoveKeyword,onTemporaryKeywordChange:this.onTemporaryKeywordChange,onTogglePopularKeyword:this.onTogglePopularKeyword};return r(o,{className:"nv-wizi-view "+n.name,transitionKey:n.name},r(n.component,s))},onSelectView:function(e){this.setState({selectedViewName:e})},getOpmlFiles:function(){return Object.keys(this.state.opmlFiles).map(function(e){return this.state.opmlFiles[e]},this)},onTopicsChange:function(e){this.setState({selectedTopics:e})},onAddOPML:function(e){this.setState({opmlFiles:this.state.opmlFiles.concat(e)})},onRemoveOPML:function(e){this.setState({opmlFiles:this.state.opmlFiles.filter(function(t){return e!==t})})},onAddKeyword:function(e){var t=e.split(/\s*,\s*/),n=t.filter(function(e,n){return!this.state.keywords.includes(e)&&t.indexOf(e)===n&&""!==e},this);n=this.state.keywords.slice().concat(n),this.setState({keywords:n})},onRemoveKeyword:function(e){var t=this.state.keywords.slice(),n=t.indexOf(e);t.splice(n,1),this.setState({keywords:t})},onTemporaryKeywordChange:function(e){this._tempKeyword=e},onTogglePopularKeyword:function(e){var t=this.state.popularKeywords.slice();if(t.includes(e)){var n=t.indexOf(e);t.splice(n,1)}else t.push(e);this.setState({popularKeywords:t})},isWizardryIndexEmpty:function(){var e=0===this.state.selectedTopics.length,t=0===this.state.opmlFiles.length;return e&&t},isWizardryKeywordsEmpty:function(){var e=0===this.state.keywords.length,t=0===this.state.popularKeywords.length;return e&&t},onResetIndexClick:function(){this.setState({selectedTopics:[],opmlFiles:[]})},onResetKeywordsClick:function(){this.setState({selectedTopics:[],opmlFiles:[],keywords:[],popularKeywords:[],selectedViewName:"Index"})},onNextClick:function(){this.isWizardryIndexEmpty()||this.setState({selectedViewName:"Keywords",isApplyingConfig:!1,errorMessage:!1})},onDashboardClick:function(){if(!this.isWizardryKeywordsEmpty()){this.setState({isApplyingConfig:!0,errorMessage:!1});var e=[];this._tempKeyword&&(this.setState({keywords:[this._tempKeyword].concat(this.state.keywords)}),this._tempKeyword=!1),this.state.popularKeywords&&(e=this.state.keywords.concat(this.state.popularKeywords));var s={type:"individual",primary:{name:"Personal Dashboard"},corpus:this.state.selectedTopics.map(function(e){return Object.assign({},e,{segments:e.segments.map(function(e){return e.name})})}),topics:e,files:this.getOpmlFiles()};n.log("wizardry-individual","dashboardit"),t.wizardryApplyConfig(s).done(function(){window.location.href="/dashboard"},function(e){this.setState({isApplyingConfig:!1,errorMessage:e})}.bind(this))}}})}.apply(t,s))||(e.exports=i)},756:function(e,t,n){"use strict";var s,i;s=[n(757),n(761)],void 0===(i=function(e,t){var n=[{name:"Index",title:_("Step 1"),icon:"4",component:e},{name:"Keywords",title:_("Step 2"),icon:"7",component:t}];return{getViews:function(){return n.map(function(e){return{name:e.name,title:e.title,icon:e.icon}})},getViewByName:function(e){return n.detect(function(t){return t.name===e})},getDefaultViewName:function(){return this.getViews()[0].name}}}.apply(t,s))||(e.exports=i)},757:function(e,t,n){"use strict";var s,i;s=[n(1),n(0),n(5),n(388),n(389),n(450),n(760)],void 0===(i=function(e,t,n,s,i,a,o){var l=t.h;return n.extend({name:"nv-wizi",render:function(e){return l("div",{className:this.getClassNames()},[l(s,{title:_("Welcome to Netvibes"),desc:_("Populate your Dashboard in 2 steps:")}),l("div",{className:this.getClassNames("-content")},[l("div",{className:this.getClassNames("-topics")},[l("div",{className:this.getClassNames("-topics-title")},_("1. Select one or more source Libraries")),l(a,{onTopicsChange:e.onTopicsChange,selectedTopics:e.selectedTopics})]),l("div",{className:this.getClassNames("-opml")},[l(o,{opmlFiles:e.opmlFiles,onAddOPML:e.onAddOPML,onRemoveOPML:e.onRemoveOPML})]),l("div",{className:this.getClassNames("-buttons")},[l(i,{label:_("Next"),isWizardryEmpty:this.isWizardryEmpty(),onResetClick:e.onResetIndexClick,onNextClick:e.onNextClick})])])])},isWizardryEmpty:function(){var e=0===this.props.selectedTopics.length,t=0===this.props.opmlFiles.length;return e&&t}})}.apply(t,s))||(e.exports=i)},760:function(e,t,n){"use strict";var s,i;s=[n(3),n(0),n(5),n(11)],void 0===(i=function(e,t,n,s){var i=t.h;return n.extend({name:"nv-wizi-opml-selector",render:function(t){var n=t.opmlFiles.map(function(e){return i(s.Tag,{value:e.name,className:"green",closable:!0,events:{onClose:function(){t.onRemoveOPML(e)}}})},this);return i("div",{className:this.getClassNames()},[i("div",{className:this.getClassNames("-title")},_("Import your OPML")),i("div",{className:this.getClassNames("-button")},[i(s.File,{buttonOnly:!0,events:{onChange:function(n){var s=e.getElement(n);t.onAddOPML(s.files[0])}}})]),i("div",{className:this.getClassNames("-files")},[n])])}})}.apply(t,s))||(e.exports=i)},761:function(e,t,n){"use strict";var s,i;s=[n(0),n(5),n(11),n(388),n(389),n(762),n(763)],void 0===(i=function(e,t,n,s,i,a,o){var l=e.h;return t.extend({name:"nv-wizi",render:function(e){return l("div",{className:this.getClassNames()},[l(s,{title:_("Welcome to Netvibes"),desc:_("Populate your Dashboard in 2 steps:")}),l("div",{className:this.getClassNames("-content")},[l("div",{className:this.getClassNames("-keywords")},[l(a,{keywords:e.keywords,onAddKeyword:e.onAddKeyword,onRemoveKeyword:e.onRemoveKeyword,onTemporaryKeywordChange:e.onTemporaryKeywordChange})]),0!==e.opmlFiles.length?"":l(o,{selectedTopics:e.selectedTopics,popularKeywords:e.popularKeywords,onTogglePopularKeyword:e.onTogglePopularKeyword}),l("div",{className:this.getClassNames("-buttons")},[this.props.errorMessage?l("div",{className:this.getClassNames("-error")},[this.props.errorMessage]):"",this.props.isApplyingConfig?l(n.Spinner):l(i,{label:_("Dashboard It!"),isWizardryEmpty:this.isWizardryEmpty(),onResetClick:e.onResetKeywordsClick,onDashboardClick:e.onDashboardClick})])])])},isWizardryEmpty:function(){var e=0===this.props.keywords.length,t=0===this.props.popularKeywords.length;return e&&t}})}.apply(t,s))||(e.exports=i)},762:function(e,t,n){"use strict";var s,i;s=[n(3),n(0),n(5),n(11)],void 0===(i=function(e,t,n,s){var i=t.h;return n.extend({name:"nv-wizi-keywordsselector",render:function(t){var n=t.keywords.map(function(e){return i(s.Tag,{value:e,className:"green",closable:!0,events:{onClose:function(){t.onRemoveKeyword(e)}}})}),a=function(n){var s=e.whichKey(n),i=e.getElement(n);"return"===s&&i.value?(t.onTemporaryKeywordChange(!1),t.onAddKeyword(i.value)):t.onTemporaryKeywordChange(i.value)};return i("div",{className:this.getClassNames()},[i("div",{className:this.getClassNames("-title")},_("2. Enter keywords for your specific interests")),i("div",{className:this.getClassNames("-subtitle")},_("For best results, keywords should relate to topics within the Library(ies) you selected.")),i("div",{className:this.getClassNames("-input")},[i("div",{className:this.getClassNames("-input-text")},[i(s.Text,{attributes:{placeholder:_("Enter keywords"),events:{change:a,keyup:a}},value:t.temporaryKeyword||""})]),i("div",{className:this.getClassNames("-input-button")+" uwa-icon","data-icon":3,onClick:function(n){var s=e.findElement(n,".nv-wizi-keywordsselector-input").getElement(".uwa-text");s.value&&(t.onTemporaryKeywordChange(!1),t.onAddKeyword(s.value))}})]),i("div",{className:this.getClassNames("-tags")},[n])])}})}.apply(t,s))||(e.exports=i)},763:function(e,t,n){"use strict";var s,i;s=[n(1),n(3),n(6),n(0),n(5),n(11)],void 0===(i=function(e,t,n,s,i,a){var o=s.h;return i.extend({name:"nv-wizi-popularkeywordsselector",init:function(e){this._parent(e),this.setState({popularKeywords:{},loaded:!1})},render:function(e,t){return t.loaded?Object.keys(t.popularKeywords).length>0&&o("div",{className:this.getClassNames("-container")},[o("div",{className:this.getClassNames()},[o("div",{className:this.getClassNames("-title")},_("OR select from our popular ones")),o("div",{className:this.getClassNames("-content")},[this.renderPopularTags()])])]):this.renderSpinner()},componentDidMount:function(){for(var e=[],t=0;t<this.props.selectedTopics.length;t++)for(var s=this.props.selectedTopics[t].segments,i=0;i<s.length;i++)e.push(s[i].libraryId);n.getPopularKeywords({libraryIds:e}).done(function(e){this.setState({popularKeywords:e,loaded:!0}),this.getRandomPopularKeywords(this.state.popularKeywords).forEach(function(e){this.props.onTogglePopularKeyword(e)},this)}.bind(this))},getRandomPopularKeywords:function(e){var t=[];for(var n in e)t.push(e[n][Math.floor(Math.random()*e[n].length)]);return t},formatSelectedKeywords:function(e){var t=this;if(e){var n=[];return e.forEach(function(e){var s=t.props.popularKeywords.some(function(t){return t===e});n.push(o(a.Tag,{value:e,className:s?"green":"",closable:!1,events:{onClick:function(){t.props.onTogglePopularKeyword(e)}}}))}),n}},renderSpinner:function(){return o(a.Spinner,{containerStyle:{display:"flex",flexFlow:"column",margin:"70px 0",width:"100%",justifyContent:"center",alignItems:"center"},autostart:!0,size:56,delay:0})},renderPopularTags:function(){return[this.state.popularKeywords.category&&o("div",{className:this.getClassNames("-category")},[o("div",{className:this.getClassNames("-category-title")},_("Category")),o("div",{className:this.getClassNames("-category-content")},this.formatSelectedKeywords(this.state.popularKeywords.category))]),this.state.popularKeywords.organization&&o("div",{className:this.getClassNames("-organization")},[o("div",{className:this.getClassNames("-organization-title")},_("Organization")),o("div",{className:this.getClassNames("-organization-content")},this.formatSelectedKeywords(this.state.popularKeywords.organization))]),this.state.popularKeywords.event&&o("div",{className:this.getClassNames("-event")},[o("div",{className:this.getClassNames("-event-title")},_("Event")),o("div",{className:this.getClassNames("-event-content")},this.formatSelectedKeywords(this.state.popularKeywords.event))]),this.state.popularKeywords.people&&o("div",{className:this.getClassNames("-people")},[o("div",{className:this.getClassNames("-people-title")},_("People")),o("div",{className:this.getClassNames("-people-content")},this.formatSelectedKeywords(this.state.popularKeywords.people))])]}})}.apply(t,s))||(e.exports=i)},764:function(e,t,n){"use strict";var s,i;s=[n(391),n(354),n(2),n(1),n(8),n(6)],void 0===(i=function(e,t,n,s,i,a){var o=e.extend({name:"nv-activation-modal",defaultOptions:{isClosable:!1,onClose:function(){},width:320},init:function(e){this._parent(e)},buildModal:function(){this.elements.content.addClassName(this.getClassNames("-activationmessage")),this.elements.content.setContent([s.createElement("p",{text:_("This account must be activated."),class:this.getClassNames("-title")}),s.createElement("p",{text:_("This activation link has been sent to your email address."),class:this.getClassNames("-content")}),s.createElement("p",{class:this.getClassNames("-buttons")}).setContent(new i.Button({value:_("Send me the activation link again"),className:"green",events:{onClick:function(){this.buildSendForm()}.bind(this)}}))])},buildSendForm:function(){this.elements.content.addClassName(this.getClassNames("-sendform"));var e=this.elements.newEmailForm=s.createElement("div",{html:[s.createElement("div",{class:this.getClassNames("-error")+" error-block",html:[this.elements.inputPassword=new i.Text({className:this.getClassNames("-input"),attributes:{type:"password",placeholder:_("Password"),"data-placeholder":_("Password"),class:"required pwd invisible","data-type":"password"}})]}),s.createElement("div",{class:this.getClassNames("-error")+" error-block",html:[this.elements.inputEmail=new i.Text({className:this.getClassNames("-input"),attributes:{placeholder:_("New email address"),"data-placeholder":_("New email address"),class:"required","data-type":"email"}})]})]});this.elements.content.setContent([s.createElement("p",{text:_("Send the activation to: ")+n.User.email,class:this.getClassNames("-content")}),s.createElement("a",{text:_("Wrong email address?"),class:this.getClassNames("-link"),events:{click:function(){e.isInjected()?e.remove():e.inject(this,"after")}}}),s.createElement("p",{class:this.getClassNames("-buttons")}).setContent(this.elements.inputSubmit=new i.Button({className:"green",attributes:{type:"submit","data-text":_("Send"),text:_("Send")},events:{onClick:this.submitFormConfirmation.bind(this)}}))])},submitFormConfirmation:function(){""!==this.elements.inputEmail.getValue()||""!==this.elements.inputPassword.getValue()?this.isValidForm([this.elements.inputPassword,this.elements.inputEmail])&&this.resendConfirmation():(this.removeAllMessages(),this.resendConfirmation())},resendConfirmation:function(){var e={};e.email=n.User.email,e.newEmail=this.elements.inputEmail.getValue(),e.password=this.elements.inputPassword.getValue(),e.callbackUrl=n.Config.urls.base,this.setLoading(),a.sendActication(e).fin(function(){this.removeLoading()}.bind(this)).done(function(){this.setMessage(_("The new activation has been sent"),"success")}.bind(this),function(e){this.setMessage(t.message.sendActivation[e],"error")}.bind(this))},isValidForm:function(e){var n,s,i=!0;for(var a in this.removeAllMessages(),e)e.hasOwnProperty(a)&&(n=e[a].getInputElement&&e[a].getInputElement())&&(s=n.getAttribute("data-type"),n.hasClassName("required")&&(n.value&&""!==n.value&&n.value!==n.getAttribute("data-placeholder")?t.isValid(s,n.value,n)?this.removeMessage(e[a]):(this.setMessage(t.message[s].invalid,"error",e[a]),i=!1):(this.setMessage(t.message[s].empty,"error",e[a]),i=!1)));return i}});return App.Components=App.Components||{},App.Components.StartModal.ActivationModal=o,o}.apply(t,s))||(e.exports=i)},765:function(e,t,n){"use strict";var s,i;s=[n(391),n(1),n(3),n(2),n(10),n(8)],void 0===(i=function(e,t,n,s,i,a){var o=e.extend({name:"nv-redirecttosignin-modal",defaultOptions:{isClosable:!0,onClose:function(){window.location="/signup"},width:320},init:function(e){this._parent(e)},buildModal:function(){this.elements.content.setContent([t.createElement("p",{text:_("Please register to continue using this dashboard"),class:this.getClassNames("-title")}),t.createElement("p",{class:this.getClassNames("-buttons")}).setContent(new a.Button({value:_("Sign up now"),className:"green",events:{onClick:function(){window.location="/signup"}}}))])}});return App.Components=App.Components||{},App.Components.StartModal.RedirectToSigninModal=o,o}.apply(t,s))||(e.exports=i)},766:function(e,t,n){"use strict";var s,i;s=[n(1),n(8),n(2),n(6),n(79),n(45)],void 0===(i=function(e,t,n,s,i,a){return{launch:function(){var o=Math.round(Date.now()/1e3);if(n.User.isRegistered&&!(a.get("lastSpringCleaningCheck")&&o-a.get("lastSpringCleaningCheck")<=2592e3)&&n.Page&&!(o-n.Page.creationDate<2592e3)){var l=new s.dashboardCheckSpringCleaning;return l.fin(function(){a.set("lastSpringCleaningCheck",o),a.save()}),l.then(function(n){if(n.needCleaning)return s=n.section,a=n.pageId,o=new i({className:"nv-spring-cleaning-modal",title:_("Spring cleaning"),size:{width:600},events:{onClose:function(){this.destroy()}}}),l=e.createElement("div",{class:"container",html:[{tag:"div",class:"text",html:[{tag:"h3",text:_("It looks like your corpus needs a cleanup!")},{tag:"p",html:[_("Your sources are too talkative or very quiet, inactive or not responding!"),_("Refine your corpus for noise free results.")].join("<br/>")}]},{tag:"div",class:"actions",html:[{tag:"span",class:"dismiss",events:{click:o.close.bind(o)},text:_("Dismiss")},new t.Button({value:_("Next"),className:"green medium",events:{onClick:function(){window.location="/account/spring-cleaning/{0}?pid={1}".format(s,a)}}})]}]}),o.setContent(l),o.inject(document.body),o.open(),!0;var s,a,o,l})}}}}.apply(t,s))||(e.exports=i)},781:function(e,t,n){"use strict";var s,i;s=[n(1),n(55),n(2),n(44),n(151)],void 0===(i=function(e,t,n,s,i){var a,o=e.createElement;function l(){return void 0===a&&(a=n.getActiveProduct()||n.getProduct({expired:!0})||!1),a}return{init:function(){if(this.isActive()){var e=document.body.getElement("#pageTitle");this._color=e&&t.parse(e.getStyle("color"))||t.fromRGB(255,255,255),this.elements={},this.redirectToProductsUrl=n.getWelcomeURL(this.getDisplayableType().toLowerCase()),l().active?(this.build(),this.inject()):i.messageWithID("expiredHeaderCountdown2",function(e){this.build(e),this.inject()}.bind(this)),l().active&&"TYPE_WIZARDRY"===l().type&&this.elements.dashboardHeaderCountdownFooter.hide()}},isActive:function(){return!n.isSmartReaderView()&&!n.Page.isPremiumCopy&&!n.Page.isPublic&&Boolean(l()&&l().trial)&&!n.Page.isMaster&&!n.Page.isDraft},build:function(e){this.elements.dashboardHeaderCountdown=o("div",{class:"nv-dashboard-header-countdown "+(l().active?"active":"expired"),styles:{color:this._color.toRGBString()},html:l().active?this.buildActive():this.buildExpired(e)})},buildContainer:function(e){return o("div",{class:"nv-dashboard-header-countdown-container",styles:{"background-color":this._color.cloneWith({alpha:.2}).toRGBString()},html:e})},buildActive:function(){var e=s.formatCountdown(new Date(1e3*l().endedAt));return[this.buildContainer([o("div",{class:"nv-dashboard-header-countdown-left",html:o("div",{html:_("Your {0} trial ends in").format("<strong>"+this.getDisplayableType()+"</strong><br />")})}),o("span",{class:"nv-dashboard-header-countdown-separator",styles:{"background-color":this._color.toRGBString()}}),o("div",{class:"nv-dashboard-header-countdown-right",html:o("div",{class:"nb-days",html:"<strong>"+e+"</strong><span>"+_("days")+"</span>"})})])]},buildExpired:function(e){return[this.buildContainer([o("div",{class:"nv-dashboard-header-countdown-middle",html:o("div",{html:_("Your {0}Trial Period{1} is over").format("<strong>","</strong>")})}),o("div",{class:"nv-dashboard-header-countdown-closebtn uwa-icon delete",events:{click:function(){this.elements.dashboardHeaderCountdown.hide(),e()}.bind(this)}})])]},inject:function(){var e=document.body.getElement("#header-middle-content");this.elements.dashboardHeaderCountdown.inject(e,"top"),e.addClassName("has-dashboard-header-countdown")},getDisplayableType:function(){return"TYPE_VIP"===l().type?"VIP":"Premium"}}}.apply(t,s))||(e.exports=i)},782:function(e,t,n){"use strict";var s,i;s=[n(3),n(2),n(44),n(27),n(6),n(62),n(8)],void 0===(i=function(e,t,n,s,i,a,o){function l(e){return n.formatLocalizedDate(new Date(1e3*+e),{timeZone:"UTC",timeZoneName:"short"})}var r={start:function(){this.publishButton=new o.Button({className:"green medium"}),this.publishButton.setValue(_("Publish")),this.publishButton.addEvent("onClick",this.onPublish.bind(this)),this.publishButton.inject(document.body.getElement("#publish-button"),"top"),this.resetButton=document.body.getElement("#top-admin").getElement(".reset"),this.resetButton.addEvent("click",this.onReset.bind(this)),this.lastPublished=document.body.getElement("#top-admin").getElement(".last-published"),this.lastPublished.setText(l(this.lastPublished.getAttribute("datetime")))},onReset:function(t){e.stop(t);var n=new a({titleText:_("Reset draft?"),message:"<p>"+_("This will reset the draft to the live version of your Premium Dashboard.")+"</p>",cancelText:_("No, cancel"),confirm:{text:_("Yes, reset"),requestText:_("Resetting..."),successText:_("The page has been reset. This page will automatically reload.")},discard:!1,autoFadeDelay:!1});n.addEvent("onConfirmRequest",function(){var e=this;i.publishingReset().fin(function(){e.onDialogComplete()}).done(function(){window.location.reload(!0)},function(e){s.displayError(e)}),this.cancelButton.hide()}),n.show()},onPublish:function(t){e.stop(t);var n=new a({titleText:_("Publish this draft?"),message:"<p>"+_("This will replace the live version of your Premium Dashboard.")+"</p>",cancelText:_("No, cancel"),confirm:{text:_("Yes, publish"),requestText:_("Publishing..."),successText:_("The draft has been published.")},discard:!1,autoFadeDelay:2500});n.addEvent("onConfirmRequest",function(){var e=this;i.publishingPublish().then(function(t){0==+t.count?e.options.confirm.successText=_("There was nothing to publish."):t.count&&r.lastPublished.setText(l(t.publishDate))}).catch(function(t){s.displayError(t),e.options.autoFadeDelay=4e3,e.options.confirm.successText=_("An error has occurred, please try again later or contact the support.")}).finally(function(){e.onDialogComplete()}),this.cancelButton.hide()}),n.show()}};t.onReady(function(){t.Page.isDraft&&r.start()})}.apply(t,s))||(e.exports=i)},783:function(e,t,n){"use strict";var s,i;s=[n(53),n(3),n(2),n(52),n(118)],void 0===(i=function(e,t,n,s,i){function a(e){return function(){var t=i.Feed.getRenderer();if(t){var n=[].slice.call(arguments);n.unshift(t),e.apply(null,n)}return!!t}}s.addShortcuts({reader:{"shift+down":function(){i.navigate("down")},"shift+up":function(){i.navigate("up")},"shift+left":function(){i.navigate("left")},"shift+right":function(){i.navigate("right")},"return,shift+o":function(){i.navigate("open")},"space,up,down,shift+space,shift+up,shift+down":function(n){var s=t.whichKey(n).split("+");!function(t,n){var s,a=i.Feed.currentView,o=a&&a.getRenderer("focused"),l=o&&o.getContent(),r=a&&a.getInnerElement(),c="";if("down"===t?c="next":"up"===t?c="previous":"space"===t&&(c=n?"previousUnread":"nextUnread"),l){var d=r.getSize().height,u=l.getPosition(r).y,h=l.getSize().height,m=Math.floor(.8*d);c.includes("next")&&d<u+h?s=Math.min(u+h-d,m):c.includes("previous")&&u<0&&(s=-Math.min(-u,m))}s&&Math.abs(s)>10?e.smoothScroll(r,{top:r.getScrolls().top+s}):c&&i.Feed.putFocusOnEntry(c,!0)}(s[s.length-1],"shift"===s[0])},"n,j":function(){i.Feed.putFocusOnNextEntry()},"k,p":function(){i.Feed.putFocusOnPrevEntry()},u:a(function(e){e.toggleReadFlag()}),a:function(){confirm(_("Are you sure you want to mark all the current items as read?"))&&i.flagCurrentView("unread",!1)},r:a(function(e){e.toggleStarFlag()}),w:a(function(e){e.changeContentType("website")}),f:a(function(e){e.changeContentType("normal")}),"l,right":a(function(e){window.open(e.getItem().getLink())}),"1,shift+1,7":function(){i.Feed.switchView("list")},"2,shift+2":function(){i.Feed.switchView("expanded")},"3,shift+3,þ":function(){i.Feed.switchView("mosaic")},s:function(){i.toggleSidebar()},"h,?,f1":function(){s.openHelp(_("Netvibes SmartReader keyboard shortcuts"),(n.Config.urls.faq?'<p class="inputPageSubTitle">'+_("Read the {0}FAQ's keyboard shortcuts page{1} for more details").format('<a href="{0}" target="_blank">'.format(n.Config.urls.faq+"/knowledgebase/articles/373385"),"</a>")+"</p>":"")+'<div><table><tr><td colspan="2" class="subtitle">'+_("Feeds")+'</td></tr><tr><td><span class="cap">J</span><span class="cap">K</span></td><td>'+_("Previous/Next article")+'</td></tr><tr><td><span class="cap uwa-icon" data-icon="E"></span><span class="cap uwa-icon" data-icon="D"></span></td><td>'+_("Previous/Next article with smooth scroll in article")+'</td></tr><tr><td><span class="cap long">space</span></td><td>'+_("Next unread article")+'</td></tr><tr><td><span class="cap">L</span><span class="cap uwa-icon" data-icon="G"></span></td><td>'+_("Open article link in new window")+"<br />("+_("you must disable your popup blocker for {0}").format(n.Config.urls.base)+')</td></tr><tr><td><span class="cap">W</span><span class="cap">F</span></td><td>'+_("Switch to website/feed view")+'</td></tr><tr><td><span class="cap">A</span></td><td>'+_("Mark all current articles as read")+'</td></tr><tr><td><span class="cap">U</span></td><td>'+_("Mark current article as read/unread")+'</td></tr><tr><td><span class="cap">R</span></td><td>'+_("Flag/unflag current article to read it later")+'</td></tr><tr class="jump"><td><span class="cap">1</span><span class="cap">2</span><span class="cap">3</span></td><td>'+_("List/Expanded/Mosaic view")+'</td></tr><tr><td colspan="2" class="subtitle">'+_("Sidebar")+'</td></tr><tr><td><span class="cap">S</span></td><td>'+_("Toggle sidebar")+'</td></tr><tr><td><span class="cap med">shift</span><span class="cap uwa-icon" data-icon="E"></span><span class="cap uwa-icon" data-icon="D"></span></td><td>'+_("Navigate through the sections and feeds")+'</td></tr><tr><td><span class="cap med">shift</span><span class="cap uwa-icon" data-icon="G"></span></td><td>'+_("Expand or load the focused section")+'</td></tr><tr><td><span class="cap med">shift</span><span class="cap uwa-icon" data-icon="F"></span></td><td>'+_("Collapse the focused section")+'</td></tr><tr class="jump"><td><span class="cap med">enter</span><span class="cap uwa-icon" data-icon="E"></span><span class="cap">O</span></td><td>'+_("Load the focused feed or section")+'</td></tr><tr><td colspan="2" class="subtitle">'+_("Misc")+'</td></tr><tr><td><span class="cap">H</span></td><td>'+_("Show/hide this help")+'</td></tr><tr><td><span class="cap long">escape</span></td><td>'+_("Close dialogs")+"</td></tr></table></div>")},esc:function(){i.Feed.closeActive()}}})}.apply(t,s))||(e.exports=i)}});